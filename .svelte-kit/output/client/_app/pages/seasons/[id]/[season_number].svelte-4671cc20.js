import{S as X,i as Y,s as J,e as h,t as w,k as E,l as V,c as m,a as v,g as I,d as _,n as y,b as u,f as S,D as c,O as Z,h as K,K as ne,H as L,j as oe,m as re,o as ie,x as U,u as z,v as ce,w as _e,L as fe,r as de}from"../../../chunks/vendor-8fe9a59e.js";import"../../../chunks/store-fe56146d.js";import{p as ue}from"../../../chunks/stores-d4b77a7d.js";function ee(r,s,a){const e=r.slice();return e[2]=s[a],e}function se(r){let s,a,e,t,l=r[0].episodes,o=[];for(let n=0;n<l.length;n+=1)o[n]=te(ee(r,l,n));return{c(){s=h("h4"),a=w("Season Information"),e=E();for(let n=0;n<o.length;n+=1)o[n].c();t=V(),this.h()},l(n){s=m(n,"H4",{class:!0});var f=v(s);a=I(f,"Season Information"),f.forEach(_),e=y(n);for(let i=0;i<o.length;i+=1)o[i].l(n);t=V(),this.h()},h(){u(s,"class","pb-2")},m(n,f){S(n,s,f),c(s,a),S(n,e,f);for(let i=0;i<o.length;i+=1)o[i].m(n,f);S(n,t,f)},p(n,f){if(f&3){l=n[0].episodes;let i;for(i=0;i<l.length;i+=1){const g=ee(n,l,i);o[i]?o[i].p(g,f):(o[i]=te(g),o[i].c(),o[i].m(t.parentNode,t))}for(;i<o.length;i+=1)o[i].d(1);o.length=l.length}},d(n){n&&_(s),n&&_(e),ne(o,n),n&&_(t)}}}function te(r){let s,a,e,t,l,o,n,f,i=r[2].name+"",g,C,k,T,j=r[2].air_date+"",O,q,D,G,M,x,H=r[2].overview+"",$,A,P;return{c(){s=h("div"),a=h("a"),e=h("div"),t=h("img"),o=E(),n=h("div"),f=h("h4"),g=w(i),C=E(),k=h("h6"),T=w("Air Date: "),O=w(j),q=E(),D=h("h6"),G=w("Overview:"),M=E(),x=h("h6"),$=w(H),P=E(),this.h()},l(d){s=m(d,"DIV",{class:!0});var p=v(s);a=m(p,"A",{href:!0,class:!0});var N=v(a);e=m(N,"DIV",{class:!0});var F=v(e);t=m(F,"IMG",{class:!0,src:!0,alt:!0}),F.forEach(_),o=y(N),n=m(N,"DIV",{class:!0});var b=v(n);f=m(b,"H4",{});var Q=v(f);g=I(Q,i),Q.forEach(_),C=y(b),k=m(b,"H6",{});var B=v(k);T=I(B,"Air Date: "),O=I(B,j),B.forEach(_),q=y(b),D=m(b,"H6",{});var R=v(D);G=I(R,"Overview:"),R.forEach(_),M=y(b),x=m(b,"H6",{class:!0});var W=v(x);$=I(W,H),W.forEach(_),b.forEach(_),N.forEach(_),P=y(p),p.forEach(_),this.h()},h(){u(t,"class","flex xl:w-80 xl:h-44 items-start"),Z(t.src,l=r[2].still_path?ae+r[2].still_path:"/default.jpg")||u(t,"src",l),u(t,"alt","season"),u(e,"class","flex mx-auto max-h-full max-w-full xl:m-0 xl:flex-none xl:w-80 xl:h-44 xl:items-start"),u(x,"class","flex-1 pr-8 text-skin-muted mb-4"),u(n,"class","ml-2 block"),u(a,"href",A=`/episode/${r[1]}/${r[0].season_number}/${r[2].episode_number}`),u(a,"class","flex flex-col xl:flex-row text-skin-base xl:rounded-lg"),u(s,"class","bg-skin-primary flex flex-col xl:flex-row m-4 p-2 rounded-lg")},m(d,p){S(d,s,p),c(s,a),c(a,e),c(e,t),c(a,o),c(a,n),c(n,f),c(f,g),c(n,C),c(n,k),c(k,T),c(k,O),c(n,q),c(n,D),c(D,G),c(n,M),c(n,x),c(x,$),c(s,P)},p(d,p){p&1&&!Z(t.src,l=d[2].still_path?ae+d[2].still_path:"/default.jpg")&&u(t,"src",l),p&1&&i!==(i=d[2].name+"")&&K(g,i),p&1&&j!==(j=d[2].air_date+"")&&K(O,j),p&1&&H!==(H=d[2].overview+"")&&K($,H),p&3&&A!==(A=`/episode/${d[1]}/${d[0].season_number}/${d[2].episode_number}`)&&u(a,"href",A)},d(d){d&&_(s)}}}function he(r){let s,a,e=r[0].id&&se(r);return{c(){s=h("section"),a=h("div"),e&&e.c(),this.h()},l(t){s=m(t,"SECTION",{id:!0});var l=v(s);a=m(l,"DIV",{class:!0});var o=v(a);e&&e.l(o),o.forEach(_),l.forEach(_),this.h()},h(){u(a,"class","max-w-7xl mx-auto text-skin-base xl:mt-5 xl:mb-10 bg-skin-secondary xl:pl-5 pt-1 pb-1 xl:rounded-2xl"),u(s,"id","season")},m(t,l){S(t,s,l),c(s,a),e&&e.m(a,null)},p(t,[l]){t[0].id?e?e.p(t,l):(e=se(t),e.c(),e.m(a,null)):e&&(e.d(1),e=null)},i:L,o:L,d(t){t&&_(s),e&&e.d()}}}const ae="https://image.tmdb.org/t/p/w500/";function me(r,s,a){let{season_details:e}=s,{tv_id:t}=s;return r.$$set=l=>{"season_details"in l&&a(0,e=l.season_details),"tv_id"in l&&a(1,t=l.tv_id)},[e,t]}class pe extends X{constructor(s){super();Y(this,s,me,he,J,{season_details:0,tv_id:1})}}function le(r){let s,a;return s=new pe({props:{season_details:r[0],tv_id:r[2]}}),{c(){oe(s.$$.fragment)},l(e){re(s.$$.fragment,e)},m(e,t){ie(s,e,t),a=!0},p(e,t){const l={};t&1&&(l.season_details=e[0]),s.$set(l)},i(e){a||(U(s.$$.fragment,e),a=!0)},o(e){z(s.$$.fragment,e),a=!1},d(e){ce(s,e)}}}function ve(r){let s=r[1].params.season_number,a,e,t=le(r);return{c(){t.c(),a=V()},l(l){t.l(l),a=V()},m(l,o){t.m(l,o),S(l,a,o),e=!0},p(l,[o]){o&2&&J(s,s=l[1].params.season_number)?(de(),z(t,1,1,L),_e(),t=le(l),t.c(),U(t),t.m(a.parentNode,a)):t.p(l,o)},i(l){e||(U(t),e=!0)},o(l){z(t),e=!1},d(l){l&&_(a),t.d(l)}}}async function we({fetch:r,page:s}){return{props:{season_details:await(await(await r("../../api/getSeason",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:s.params.id,season_number:s.params.season_number})})).json()).res}}}function be(r,s,a){let e;fe(r,ue,o=>a(1,e=o));let{season_details:t}=s,l=e.params.id;return r.$$set=o=>{"season_details"in o&&a(0,t=o.season_details)},[t,e,l]}class Ee extends X{constructor(s){super();Y(this,s,be,ve,J,{season_details:0})}}export{Ee as default,we as load};
