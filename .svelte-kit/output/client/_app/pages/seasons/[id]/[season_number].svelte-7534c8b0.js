import{S as z,i as F,s as Q,e as u,t as k,k as E,l as R,c as m,a as v,g as I,d,n as S,b as h,f as H,D as c,O as W,h as B,K as te,H as X,j as ae,m as le,o as ne,x as ie,u as oe,v as re,L as ce}from"../../../chunks/vendor-fc6286ba.js";import{p as fe}from"../../../chunks/stores-462c50b9.js";function Y(n,s,l){const e=n.slice();return e[2]=s[l],e}function Z(n){let s,l,e,a,i=n[0].episodes,o=[];for(let t=0;t<i.length;t+=1)o[t]=ee(Y(n,i,t));return{c(){s=u("h4"),l=k("Season Information"),e=E();for(let t=0;t<o.length;t+=1)o[t].c();a=R(),this.h()},l(t){s=m(t,"H4",{class:!0});var f=v(s);l=I(f,"Season Information"),f.forEach(d),e=S(t);for(let r=0;r<o.length;r+=1)o[r].l(t);a=R(),this.h()},h(){h(s,"class","pb-2")},m(t,f){H(t,s,f),c(s,l),H(t,e,f);for(let r=0;r<o.length;r+=1)o[r].m(t,f);H(t,a,f)},p(t,f){if(f&3){i=t[0].episodes;let r;for(r=0;r<i.length;r+=1){const g=Y(t,i,r);o[r]?o[r].p(g,f):(o[r]=ee(g),o[r].c(),o[r].m(a.parentNode,a))}for(;r<o.length;r+=1)o[r].d(1);o.length=i.length}},d(t){t&&d(s),t&&d(e),te(o,t),t&&d(a)}}}function ee(n){let s,l,e,a,i,o,t,f,r=n[2].name+"",g,C,x,N,D=n[2].air_date+"",O,T,j,q,G,w,y=n[2].overview+"",$,A,M;return{c(){s=u("div"),l=u("a"),e=u("div"),a=u("img"),o=E(),t=u("div"),f=u("h4"),g=k(r),C=E(),x=u("h6"),N=k("Air Date: "),O=k(D),T=E(),j=u("h6"),q=k("Overview:"),G=E(),w=u("h6"),$=k(y),M=E(),this.h()},l(_){s=m(_,"DIV",{class:!0});var p=v(s);l=m(p,"A",{href:!0,class:!0});var V=v(l);e=m(V,"DIV",{class:!0});var J=v(e);a=m(J,"IMG",{class:!0,src:!0,alt:!0}),J.forEach(d),o=S(V),t=m(V,"DIV",{class:!0});var b=v(t);f=m(b,"H4",{});var K=v(f);g=I(K,r),K.forEach(d),C=S(b),x=m(b,"H6",{});var P=v(x);N=I(P,"Air Date: "),O=I(P,D),P.forEach(d),T=S(b),j=m(b,"H6",{});var L=v(j);q=I(L,"Overview:"),L.forEach(d),G=S(b),w=m(b,"H6",{class:!0});var U=v(w);$=I(U,y),U.forEach(d),b.forEach(d),V.forEach(d),M=S(p),p.forEach(d),this.h()},h(){h(a,"class","flex xl:w-80 xl:h-44 items-start"),W(a.src,i=n[2].still_path?se+n[2].still_path:"/default.jpg")||h(a,"src",i),h(a,"alt","season"),h(e,"class","flex mx-auto max-h-full max-w-full xl:m-0 xl:flex-none xl:w-80 xl:h-44 xl:items-start"),h(w,"class","flex-1 pr-8 text-skin-muted mb-4"),h(t,"class","ml-2 block"),h(l,"href",A=`/episode/${n[1]}/${n[0].season_number}/${n[2].episode_number}`),h(l,"class","flex flex-col xl:flex-row text-skin-base xl:rounded-lg"),h(s,"class","bg-skin-primary flex flex-col xl:flex-row m-4 p-2 rounded-lg")},m(_,p){H(_,s,p),c(s,l),c(l,e),c(e,a),c(l,o),c(l,t),c(t,f),c(f,g),c(t,C),c(t,x),c(x,N),c(x,O),c(t,T),c(t,j),c(j,q),c(t,G),c(t,w),c(w,$),c(s,M)},p(_,p){p&1&&!W(a.src,i=_[2].still_path?se+_[2].still_path:"/default.jpg")&&h(a,"src",i),p&1&&r!==(r=_[2].name+"")&&B(g,r),p&1&&D!==(D=_[2].air_date+"")&&B(O,D),p&1&&y!==(y=_[2].overview+"")&&B($,y),p&3&&A!==(A=`/episode/${_[1]}/${_[0].season_number}/${_[2].episode_number}`)&&h(l,"href",A)},d(_){_&&d(s)}}}function de(n){let s,l,e=n[0].id&&Z(n);return{c(){s=u("section"),l=u("div"),e&&e.c(),this.h()},l(a){s=m(a,"SECTION",{id:!0});var i=v(s);l=m(i,"DIV",{class:!0});var o=v(l);e&&e.l(o),o.forEach(d),i.forEach(d),this.h()},h(){h(l,"class","max-w-7xl mx-auto text-skin-base xl:mt-5 xl:mb-10 bg-skin-secondary xl:pl-5 pt-1 pb-1 xl:rounded-2xl"),h(s,"id","season")},m(a,i){H(a,s,i),c(s,l),e&&e.m(l,null)},p(a,[i]){a[0].id?e?e.p(a,i):(e=Z(a),e.c(),e.m(l,null)):e&&(e.d(1),e=null)},i:X,o:X,d(a){a&&d(s),e&&e.d()}}}const se="https://image.tmdb.org/t/p/w500/";function _e(n,s,l){let{season_details:e}=s,{tv_id:a}=s;return n.$$set=i=>{"season_details"in i&&l(0,e=i.season_details),"tv_id"in i&&l(1,a=i.tv_id)},[e,a]}class he extends z{constructor(s){super();F(this,s,_e,de,Q,{season_details:0,tv_id:1})}}function ue(n){let s,l;return s=new he({props:{season_details:n[0],tv_id:n[1]}}),{c(){ae(s.$$.fragment)},l(e){le(s.$$.fragment,e)},m(e,a){ne(s,e,a),l=!0},p(e,[a]){const i={};a&1&&(i.season_details=e[0]),s.$set(i)},i(e){l||(ie(s.$$.fragment,e),l=!0)},o(e){oe(s.$$.fragment,e),l=!1},d(e){re(s,e)}}}async function be({fetch:n,page:s}){return{props:{season_details:await(await(await n("../../api/getSeason",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:s.params.id,season_number:s.params.season_number})})).json()).res}}}function me(n,s,l){let e;ce(n,fe,o=>l(2,e=o));let{season_details:a}=s,i=e.params.id;return n.$$set=o=>{"season_details"in o&&l(0,a=o.season_details)},[a,i]}class ge extends z{constructor(s){super();F(this,s,me,ue,Q,{season_details:0})}}export{ge as default,be as load};
