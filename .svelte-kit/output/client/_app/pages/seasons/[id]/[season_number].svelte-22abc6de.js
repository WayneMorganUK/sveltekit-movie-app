import{S as s,i as e,s as a,e as t,t as n,k as l,l as r,c as o,a as i,g as c,d as h,n as d,b as f,f as m,D as u,O as p,h as x,K as v,H as _,N as g,j as $,m as b,o as w,x as E,u as k,v as y,w as D,L as I,r as S}from"../../../chunks/vendor-8fe9a59e.js";import{A as j}from"../../../chunks/store-892411d9.js";import{p as H}from"../../../chunks/stores-d4b77a7d.js";function N(s,e,a){const t=s.slice();return t[2]=e[a],t}function O(s){let e,a,p,x,_=s[0].episodes,g=[];for(let t=0;t<_.length;t+=1)g[t]=A(N(s,_,t));return{c(){e=t("h4"),a=n("Season Information"),p=l();for(let s=0;s<g.length;s+=1)g[s].c();x=r(),this.h()},l(s){e=o(s,"H4",{class:!0});var t=i(e);a=c(t,"Season Information"),t.forEach(h),p=d(s);for(let e=0;e<g.length;e+=1)g[e].l(s);x=r(),this.h()},h(){f(e,"class","pb-8")},m(s,t){m(s,e,t),u(e,a),m(s,p,t);for(let e=0;e<g.length;e+=1)g[e].m(s,t);m(s,x,t)},p(s,e){if(3&e){let a;for(_=s[0].episodes,a=0;a<_.length;a+=1){const t=N(s,_,a);g[a]?g[a].p(t,e):(g[a]=A(t),g[a].c(),g[a].m(x.parentNode,x))}for(;a<g.length;a+=1)g[a].d(1);g.length=_.length}},d(s){s&&h(e),s&&h(p),v(g,s),s&&h(x)}}}function A(s){let e,a,r,v,_,g,$,b,w,E,k,y,D,I,S,j,H,N,O,A,V,P,R,C=s[2].name+"",G=s[2].air_date+"",K=s[2].overview+"";return{c(){e=t("div"),a=t("a"),r=t("div"),v=t("img"),g=l(),$=t("div"),b=t("h4"),w=n(C),E=l(),k=t("hr"),y=l(),D=t("h6"),I=n("Air Date: "),S=n(G),j=l(),H=t("h6"),N=n("Overview:"),O=l(),A=t("h6"),V=n(K),R=l(),this.h()},l(s){e=o(s,"DIV",{class:!0});var t=i(e);a=o(t,"A",{href:!0,class:!0});var n=i(a);r=o(n,"DIV",{class:!0});var l=i(r);v=o(l,"IMG",{class:!0,src:!0,alt:!0}),l.forEach(h),g=d(n),$=o(n,"DIV",{class:!0});var f=i($);b=o(f,"H4",{});var m=i(b);w=c(m,C),m.forEach(h),E=d(f),k=o(f,"HR",{}),y=d(f),D=o(f,"H6",{});var u=i(D);I=c(u,"Air Date: "),S=c(u,G),u.forEach(h),j=d(f),H=o(f,"H6",{});var p=i(H);N=c(p,"Overview:"),p.forEach(h),O=d(f),A=o(f,"H6",{class:!0});var x=i(A);V=c(x,K),x.forEach(h),f.forEach(h),n.forEach(h),R=d(t),t.forEach(h),this.h()},h(){f(v,"class","flex xl:w-80 xl:h-44 items-start"),p(v.src,_=s[2].still_path?J+s[2].still_path:"/default.jpg")||f(v,"src",_),f(v,"alt","episode"),f(r,"class","flex mx-auto max-h-full max-w-full xl:m-0 xl:flex-none xl:w-80 xl:h-44 xl:items-start"),f(A,"class","flex-1 pr-8 text-skin-muted mb-4"),f($,"class","ml-2 block"),f(a,"href",P=`/episode/${s[1]}/${s[0].season_number}/${s[2].episode_number}`),f(a,"class","flex flex-col xl:flex-row text-skin-base xl:rounded-lg"),f(e,"class","flex flex-col xl:flex-row pb-4")},m(s,t){m(s,e,t),u(e,a),u(a,r),u(r,v),u(a,g),u(a,$),u($,b),u(b,w),u($,E),u($,k),u($,y),u($,D),u(D,I),u(D,S),u($,j),u($,H),u(H,N),u($,O),u($,A),u(A,V),u(e,R)},p(s,e){1&e&&!p(v.src,_=s[2].still_path?J+s[2].still_path:"/default.jpg")&&f(v,"src",_),1&e&&C!==(C=s[2].name+"")&&x(w,C),1&e&&G!==(G=s[2].air_date+"")&&x(S,G),1&e&&K!==(K=s[2].overview+"")&&x(V,K),3&e&&P!==(P=`/episode/${s[1]}/${s[0].season_number}/${s[2].episode_number}`)&&f(a,"href",P)},d(s){s&&h(e)}}}function V(s){let e,a,r,p,v,g=JSON.stringify(s[0],null,2)+"",$=s[0].id&&O(s);return{c(){e=t("section"),a=t("div"),$&&$.c(),r=l(),p=t("pre"),v=n(g),this.h()},l(s){e=o(s,"SECTION",{id:!0});var t=i(e);a=o(t,"DIV",{class:!0});var n=i(a);$&&$.l(n),n.forEach(h),r=d(t),p=o(t,"PRE",{});var l=i(p);v=c(l,g),l.forEach(h),t.forEach(h),this.h()},h(){f(a,"class","max-w-7xl mx-auto text-skin-base xl:mt-5 xl:mb-10 bg-skin-secondary xl:pl-5 pt-1 xl:rounded-2xl"),f(e,"id","season")},m(s,t){m(s,e,t),u(e,a),$&&$.m(a,null),u(e,r),u(e,p),u(p,v)},p(s,[e]){s[0].id?$?$.p(s,e):($=O(s),$.c(),$.m(a,null)):$&&($.d(1),$=null),1&e&&g!==(g=JSON.stringify(s[0],null,2)+"")&&x(v,g)},i:_,o:_,d(s){s&&h(e),$&&$.d()}}}const J="https://image.tmdb.org/t/p/w500/";function P(s,e,a){let{season_details:t}=e,{movie_id:n}=e;return s.$$set=s=>{"season_details"in s&&a(0,t=s.season_details),"movie_id"in s&&a(1,n=s.movie_id)},[t,n]}class R extends s{constructor(s){super(),e(this,s,P,V,a,{season_details:0,movie_id:1})}}function C(s){let e,a;return e=new R({props:{season_details:s[0],movie_id:s[2]}}),{c(){$(e.$$.fragment)},l(s){b(e.$$.fragment,s)},m(s,t){w(e,s,t),a=!0},p(s,a){const t={};1&a&&(t.season_details=s[0]),e.$set(t)},i(s){a||(E(e.$$.fragment,s),a=!0)},o(s){k(e.$$.fragment,s),a=!1},d(s){y(e,s)}}}function G(s){let e,t,n=s[1].params.season_number,l=C(s);return{c(){l.c(),e=r()},l(s){l.l(s),e=r()},m(s,a){l.m(s,a),m(s,e,a),t=!0},p(s,[t]){2&t&&a(n,n=s[1].params.season_number)?(S(),k(l,1,1,_),D(),l=C(s),l.c(),E(l),l.m(e.parentNode,e)):l.p(s,t)},i(s){t||(E(l),t=!0)},o(s){k(l),t=!1},d(s){s&&h(e),l.d(s)}}}var K=function(s,e,a,t){return new(a||(a=Promise))((function(n,l){function r(s){try{i(t.next(s))}catch(e){l(e)}}function o(s){try{i(t.throw(s))}catch(e){l(e)}}function i(s){var e;s.done?n(s.value):(e=s.value,e instanceof a?e:new a((function(s){s(e)}))).then(r,o)}i((t=t.apply(s,e||[])).next())}))};function L({page:s}){return K(this,void 0,void 0,(function*(){let e=`https://api.themoviedb.org/3/tv/${s.params.id}/season/${s.params.season_number}?api_key=${g(j)}&language=en-US`;return{props:{season_details:yield fetch(e).then((s=>s.json()))}}}))}function M(s,e,a){let t;I(s,H,(s=>a(1,t=s))),this&&this.__awaiter;let{season_details:n}=e,l=t.params.id;return console.log("Season Details",n),s.$$set=s=>{"season_details"in s&&a(0,n=s.season_details)},[n,t,l]}class T extends s{constructor(s){super(),e(this,s,M,G,a,{season_details:0})}}export{T as default,L as load};
