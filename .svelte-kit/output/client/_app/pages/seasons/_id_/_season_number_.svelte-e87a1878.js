import{S as F,i as K,s as L,e as u,t as k,k as E,l as Q,c as m,a as v,h as I,d as f,m as S,b as h,g as O,G as c,X as R,j as M,O as te,I as W,w as ae,x as le,y as ne,q as ie,o as oe,B as re,J as ce}from"../../../chunks/vendor-b506428e.js";import{p as _e}from"../../../chunks/stores-8b219b7a.js";function Y(n,s,a){const e=n.slice();return e[2]=s[a],e}function Z(n){let s,a,e,l,i=n[0].episodes,o=[];for(let t=0;t<i.length;t+=1)o[t]=ee(Y(n,i,t));return{c(){s=u("h4"),a=k("Season Information"),e=E();for(let t=0;t<o.length;t+=1)o[t].c();l=Q(),this.h()},l(t){s=m(t,"H4",{class:!0});var _=v(s);a=I(_,"Season Information"),_.forEach(f),e=S(t);for(let r=0;r<o.length;r+=1)o[r].l(t);l=Q(),this.h()},h(){h(s,"class","pb-2")},m(t,_){O(t,s,_),c(s,a),O(t,e,_);for(let r=0;r<o.length;r+=1)o[r].m(t,_);O(t,l,_)},p(t,_){if(_&3){i=t[0].episodes;let r;for(r=0;r<i.length;r+=1){const g=Y(t,i,r);o[r]?o[r].p(g,_):(o[r]=ee(g),o[r].c(),o[r].m(l.parentNode,l))}for(;r<o.length;r+=1)o[r].d(1);o.length=i.length}},d(t){t&&f(s),t&&f(e),te(o,t),t&&f(l)}}}function ee(n){let s,a,e,l,i,o,t,_,r=n[2].name+"",g,q,x,C,j=n[2].air_date+"",$,G,y,N,T,w,D=n[2].overview+"",A,H,B;return{c(){s=u("div"),a=u("a"),e=u("div"),l=u("img"),o=E(),t=u("div"),_=u("h4"),g=k(r),q=E(),x=u("h6"),C=k("Air Date: "),$=k(j),G=E(),y=u("h6"),N=k("Overview:"),T=E(),w=u("h6"),A=k(D),B=E(),this.h()},l(d){s=m(d,"DIV",{class:!0});var p=v(s);a=m(p,"A",{href:!0,class:!0});var V=v(a);e=m(V,"DIV",{class:!0});var P=v(e);l=m(P,"IMG",{class:!0,src:!0,alt:!0}),P.forEach(f),o=S(V),t=m(V,"DIV",{class:!0});var b=v(t);_=m(b,"H4",{});var U=v(_);g=I(U,r),U.forEach(f),q=S(b),x=m(b,"H6",{});var J=v(x);C=I(J,"Air Date: "),$=I(J,j),J.forEach(f),G=S(b),y=m(b,"H6",{});var X=v(y);N=I(X,"Overview:"),X.forEach(f),T=S(b),w=m(b,"H6",{class:!0});var z=v(w);A=I(z,D),z.forEach(f),b.forEach(f),V.forEach(f),B=S(p),p.forEach(f),this.h()},h(){h(l,"class","flex xl:w-80 xl:h-44 items-start"),R(l.src,i=n[2].still_path?se+n[2].still_path:"/default.jpg")||h(l,"src",i),h(l,"alt","season"),h(e,"class","flex mx-auto max-h-full max-w-full xl:m-0 xl:flex-none xl:w-80 xl:h-44 xl:items-start"),h(w,"class","flex-1 pr-8 text-skin-muted mb-4"),h(t,"class","ml-2 block"),h(a,"href",H=`/episode/${n[1]}/${n[0].season_number}/${n[2].episode_number}`),h(a,"class","flex flex-col xl:flex-row text-skin-base xl:rounded-lg"),h(s,"class","bg-skin-primary flex flex-col xl:flex-row m-4 p-2 rounded-lg")},m(d,p){O(d,s,p),c(s,a),c(a,e),c(e,l),c(a,o),c(a,t),c(t,_),c(_,g),c(t,q),c(t,x),c(x,C),c(x,$),c(t,G),c(t,y),c(y,N),c(t,T),c(t,w),c(w,A),c(s,B)},p(d,p){p&1&&!R(l.src,i=d[2].still_path?se+d[2].still_path:"/default.jpg")&&h(l,"src",i),p&1&&r!==(r=d[2].name+"")&&M(g,r),p&1&&j!==(j=d[2].air_date+"")&&M($,j),p&1&&D!==(D=d[2].overview+"")&&M(A,D),p&3&&H!==(H=`/episode/${d[1]}/${d[0].season_number}/${d[2].episode_number}`)&&h(a,"href",H)},d(d){d&&f(s)}}}function fe(n){let s,a,e=n[0].id&&Z(n);return{c(){s=u("section"),a=u("div"),e&&e.c(),this.h()},l(l){s=m(l,"SECTION",{id:!0});var i=v(s);a=m(i,"DIV",{class:!0});var o=v(a);e&&e.l(o),o.forEach(f),i.forEach(f),this.h()},h(){h(a,"class","max-w-7xl mx-auto text-skin-base xl:mt-5 xl:mb-10 bg-skin-secondary xl:pl-5 pt-1 pb-1 xl:rounded-2xl"),h(s,"id","season")},m(l,i){O(l,s,i),c(s,a),e&&e.m(a,null)},p(l,[i]){l[0].id?e?e.p(l,i):(e=Z(l),e.c(),e.m(a,null)):e&&(e.d(1),e=null)},i:W,o:W,d(l){l&&f(s),e&&e.d()}}}const se="https://image.tmdb.org/t/p/w500/";function de(n,s,a){let{season_details:e}=s,{tv_id:l}=s;return n.$$set=i=>{"season_details"in i&&a(0,e=i.season_details),"tv_id"in i&&a(1,l=i.tv_id)},[e,l]}class he extends F{constructor(s){super();K(this,s,de,fe,L,{season_details:0,tv_id:1})}}function ue(n){let s,a;return s=new he({props:{season_details:n[0],tv_id:n[1]}}),{c(){ae(s.$$.fragment)},l(e){le(s.$$.fragment,e)},m(e,l){ne(s,e,l),a=!0},p(e,[l]){const i={};l&1&&(i.season_details=e[0]),s.$set(i)},i(e){a||(ie(s.$$.fragment,e),a=!0)},o(e){oe(s.$$.fragment,e),a=!1},d(e){re(s,e)}}}async function be({fetch:n,params:s}){return{props:{season_details:await(await(await n("../../api/getSeason",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:s.id,season_number:s.season_number})})).json()).res}}}function me(n,s,a){let e;ce(n,_e,o=>a(2,e=o));let{season_details:l}=s,i=e.params.id;return n.$$set=o=>{"season_details"in o&&a(0,l=o.season_details)},[l,i]}class ge extends F{constructor(s){super();K(this,s,me,ue,L,{season_details:0})}}export{ge as default,be as load};
