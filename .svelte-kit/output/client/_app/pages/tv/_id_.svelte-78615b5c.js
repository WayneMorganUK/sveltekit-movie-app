import{S as Je,i as qe,s as Oe,e as v,k as E,t as A,c as p,a as g,d as u,m as I,h as T,b as m,Z as he,g as S,G as f,j as te,I as we,Q as Ue,l as L,n as Pe,o as G,p as Ce,q as O,J as re,R as Ee,a0 as vt,w as ve,x as pe,y as ge,B as be,f as Qe,H as pt}from"../../chunks/vendor-035761c6.js";import{v as Ye,b as $e,e as et,f as tt,g as lt,a as st}from"../../chunks/store-70017b87.js";import{P as gt}from"../../chunks/ProgressBar-6e1a97c1.js";import{S as bt,C as kt,M as wt}from"../../chunks/Cast-a5d8f710.js";import{p as Et}from"../../chunks/stores-60feb9bd.js";function at(a,e,l){const t=a.slice();return t[2]=e[l],t}function rt(a){let e,l,t,s,r,n,o,i,_=a[2].name+"",d,k,w,B,P=a[2].air_date+"",J,z,h,F,q,C,U=a[2].overview+"",W,le,K;return{c(){e=v("div"),l=v("a"),t=v("div"),s=v("img"),n=E(),o=v("div"),i=v("h4"),d=A(_),k=E(),w=v("h6"),B=A("Air Date: "),J=A(P),z=E(),h=v("h6"),F=A("Overview:"),q=E(),C=v("h6"),W=A(U),K=E(),this.h()},l(D){e=p(D,"DIV",{class:!0});var M=g(e);l=p(M,"A",{href:!0,class:!0});var Q=g(l);t=p(Q,"DIV",{class:!0});var ie=g(t);s=p(ie,"IMG",{class:!0,src:!0,alt:!0}),ie.forEach(u),n=I(Q),o=p(Q,"DIV",{class:!0});var V=g(o);i=p(V,"H4",{});var ne=g(i);d=T(ne,_),ne.forEach(u),k=I(V),w=p(V,"H6",{});var x=g(w);B=T(x,"Air Date: "),J=T(x,P),x.forEach(u),z=I(V),h=p(V,"H6",{});var X=g(h);F=T(X,"Overview:"),X.forEach(u),q=I(V),C=p(V,"H6",{class:!0});var se=g(C);W=T(se,U),se.forEach(u),V.forEach(u),Q.forEach(u),K=I(M),M.forEach(u),this.h()},h(){m(s,"class","flex xl:w-40 xl: h-60 items-start"),he(s.src,r=a[2].poster_path?it+a[2].poster_path:"/default.jpg")||m(s,"src",r),m(s,"alt","episode"),m(t,"class","flex mx-auto max-h-full max-w-full xl:m-0 xl:flex-none xl:w-40 xl:h-60 xl:items-start"),m(C,"class","flex-1 pr-8 text-skin-muted mb-4"),m(o,"class","justify-self-center ml-2 block xl:justify-start"),m(l,"href",le=`/seasons/${a[1]}/${a[2].season_number}`),m(l,"class","flex flex-col xl:flex-row text-skin-base xl:rounded-lg"),m(e,"class","bg-skin-primary flex flex-col xl:flex-row m-4 p-2 rounded-lg")},m(D,M){S(D,e,M),f(e,l),f(l,t),f(t,s),f(l,n),f(l,o),f(o,i),f(i,d),f(o,k),f(o,w),f(w,B),f(w,J),f(o,z),f(o,h),f(h,F),f(o,q),f(o,C),f(C,W),f(e,K)},p(D,M){M&1&&!he(s.src,r=D[2].poster_path?it+D[2].poster_path:"/default.jpg")&&m(s,"src",r),M&1&&_!==(_=D[2].name+"")&&te(d,_),M&1&&P!==(P=D[2].air_date+"")&&te(J,P),M&1&&U!==(U=D[2].overview+"")&&te(W,U),M&3&&le!==(le=`/seasons/${D[1]}/${D[2].season_number}`)&&m(l,"href",le)},d(D){D&&u(e)}}}function It(a){let e,l,t,s,r,n=a[0].seasons,o=[];for(let i=0;i<n.length;i+=1)o[i]=rt(at(a,n,i));return{c(){e=v("section"),l=v("div"),t=v("h4"),s=A("Season Information"),r=E();for(let i=0;i<o.length;i+=1)o[i].c();this.h()},l(i){e=p(i,"SECTION",{id:!0});var _=g(e);l=p(_,"DIV",{class:!0});var d=g(l);t=p(d,"H4",{class:!0});var k=g(t);s=T(k,"Season Information"),k.forEach(u),r=I(d);for(let w=0;w<o.length;w+=1)o[w].l(d);d.forEach(u),_.forEach(u),this.h()},h(){m(t,"class","pb-2"),m(l,"class","max-w-7xl mx-auto text-skin-base xl:mt-5 xl:mb-10 bg-skin-secondary xl:pl-5 pt-1 pb-1 xl:rounded-2xl"),m(e,"id","Seasons")},m(i,_){S(i,e,_),f(e,l),f(l,t),f(t,s),f(l,r);for(let d=0;d<o.length;d+=1)o[d].m(l,null)},p(i,[_]){if(_&3){n=i[0].seasons;let d;for(d=0;d<n.length;d+=1){const k=at(i,n,d);o[d]?o[d].p(k,_):(o[d]=rt(k),o[d].c(),o[d].m(l,null))}for(;d<o.length;d+=1)o[d].d(1);o.length=n.length}},i:we,o:we,d(i){i&&u(e),Ue(o,i)}}}const it="https://www.themoviedb.org/t/p/original";function jt(a,e,l){let{tv_details:t}=e,{tv_id:s}=e;return a.$$set=r=>{"tv_details"in r&&l(0,t=r.tv_details),"tv_id"in r&&l(1,s=r.tv_id)},[t,s]}class yt extends Je{constructor(e){super();qe(this,e,jt,It,Oe,{tv_details:0,tv_id:1})}}function nt(a,e,l){const t=a.slice();return t[14]=e[l],t}function ot(a,e,l){const t=a.slice();return t[17]=e[l].id,t[18]=e[l].name,t[20]=l,t}function Dt(a){let e,l;return e=new bt({}),{c(){ve(e.$$.fragment)},l(t){pe(e.$$.fragment,t)},m(t,s){ge(e,t,s),l=!0},p:we,i(t){l||(O(e.$$.fragment,t),l=!0)},o(t){G(e.$$.fragment,t),l=!1},d(t){be(e,t)}}}function St(a){let e,l,t,s,r,n,o,i,_,d,k=a[0].name+"",w,B,P,J=(a[0]?a[0].first_air_date.substring(0,4):"")+"",z,h,F,q,C,U=("first_air_date"in a[0]?a[0].first_air_date:"No Date Available")+"",W,le,K,D,M,Q,ie,V,ne,x,X,se=a[0].tagline+"",Ie,He,oe,xe,Ge,ce,ke=a[0].overview+"",je,ye,ae,De,Y,Se,fe,R,j=a[0].vote_average&&ct(a),_e=a[0].genres,N=[];for(let c=0;c<_e.length;c+=1)N[c]=_t(ot(a,_e,c));function Re(c,b){return c[1].length>0?Nt:Vt}let Ve=Re(a),Z=Ve(a);ae=new kt({props:{cast_details:a[3]}});let ht={};Y=new wt({props:ht}),a[8](Y);let y=a[5]==="tv"&&ut(a);return{c(){e=v("section"),l=v("div"),t=v("div"),s=v("div"),r=v("img"),o=E(),i=v("div"),_=v("div"),d=v("h4"),w=A(k),B=E(),P=v("span"),z=A(J),h=E(),j&&j.c(),F=E(),q=v("div"),C=v("div"),W=A(U),le=E(),K=v("span"),D=A("\u2022"),M=E(),Q=v("div");for(let c=0;c<N.length;c+=1)N[c].c();ie=E(),V=v("div"),Z.c(),ne=E(),x=v("div"),X=v("div"),Ie=A(se),He=E(),oe=v("h4"),xe=A("Overview"),Ge=E(),ce=v("div"),je=A(ke),ye=E(),ve(ae.$$.fragment),De=E(),ve(Y.$$.fragment),Se=E(),y&&y.c(),fe=L(),this.h()},l(c){e=p(c,"SECTION",{id:!0,class:!0,style:!0});var b=g(e);l=p(b,"DIV",{class:!0,style:!0});var $=g(l);t=p($,"DIV",{class:!0});var de=g(t);s=p(de,"DIV",{class:!0});var H=g(s);r=p(H,"IMG",{class:!0,src:!0,alt:!0}),H.forEach(u),o=I(de),i=p(de,"DIV",{class:!0});var ee=g(i);_=p(ee,"DIV",{class:!0});var ue=g(_);d=p(ue,"H4",{class:!0});var Ne=g(d);w=T(Ne,k),B=I(Ne),P=p(Ne,"SPAN",{class:!0});var Ze=g(P);z=T(Ze,J),Ze.forEach(u),Ne.forEach(u),h=I(ue),j&&j.l(ue),F=I(ue),q=p(ue,"DIV",{class:!0});var Ae=g(q);C=p(Ae,"DIV",{class:!0});var Te=g(C);W=T(Te,U),le=I(Te),K=p(Te,"SPAN",{class:!0});var ze=g(K);D=T(ze,"\u2022"),ze.forEach(u),Te.forEach(u),M=I(Ae),Q=p(Ae,"DIV",{});var Fe=g(Q);for(let Be=0;Be<N.length;Be+=1)N[Be].l(Fe);Fe.forEach(u),Ae.forEach(u),ue.forEach(u),ie=I(ee),V=p(ee,"DIV",{class:!0});var Ke=g(V);Z.l(Ke),Ke.forEach(u),ne=I(ee),x=p(ee,"DIV",{class:!0});var me=g(x);X=p(me,"DIV",{class:!0});var Le=g(X);Ie=T(Le,se),Le.forEach(u),He=I(me),oe=p(me,"H4",{class:!0});var We=g(oe);xe=T(We,"Overview"),We.forEach(u),Ge=I(me),ce=p(me,"DIV",{class:!0});var Xe=g(ce);je=T(Xe,ke),Xe.forEach(u),me.forEach(u),ee.forEach(u),de.forEach(u),$.forEach(u),b.forEach(u),ye=I(c),pe(ae.$$.fragment,c),De=I(c),pe(Y.$$.fragment,c),Se=I(c),y&&y.l(c),fe=L(),this.h()},h(){m(r,"class","w-64 mx-auto overflow-hidden h-96 md:h-120 md:w-80 rounded-2xl"),he(r.src,n=a[0].poster_path?Me+"w500"+a[0].poster_path:"/default.jpg")||m(r,"src",n),m(r,"alt","movie poster"),m(s,"class","col-start-1 col-end-2 "),m(P,"class","ml-1 text-lg md:text-4xl text-skin-inverted"),m(d,"class","w-full md:text-4xl"),m(K,"class","hidden md:px-2 md:inline"),m(C,"class","pl-0"),m(q,"class","md:flex"),m(_,"class","flex flex-wrap w-full mt-6 mb-6 md:mt-0"),m(V,"class","relative flex flex-wrap justify-center w-full mb-1 md:h-48 md:justify-start md:flex-nowrap md:overflow-y-hidden"),m(X,"class","text-lg italic opacity-70"),m(oe,"class","w-full my-2 font-semibold"),m(ce,"class","overview-details"),m(x,"class","w-full"),m(i,"class","flex flex-wrap content-start md:col-start-2 md:col-end-5 md:pl-10"),m(t,"class","grid max-w-7xl md:grid-cols-[20rem_minmax(0,_1fr)_minmax(0,_1fr)_minmax(0,_1fr)] px-10 py-8 mx-auto md:rounded-2xl"),m(l,"class","bg-gradient-to-r md:rounded-2xl"),Qe(l,"background-image","linear-gradient(to right, rgb(5, 69, 112) 150px, rgba(37, 137, 204, 0.84) 100%)"),m(e,"id","media"),m(e,"class","bg-right-top bg-no-repeat bg-contain text-skin-inverted md:mt-5 md:bg-cover md:rounded-2xl"),Qe(e,"background-image","url("+Me+"original/"+a[0].backdrop_path+")")},m(c,b){S(c,e,b),f(e,l),f(l,t),f(t,s),f(s,r),f(t,o),f(t,i),f(i,_),f(_,d),f(d,w),f(d,B),f(d,P),f(P,z),f(_,h),j&&j.m(_,null),f(_,F),f(_,q),f(q,C),f(C,W),f(C,le),f(C,K),f(K,D),f(q,M),f(q,Q);for(let $=0;$<N.length;$+=1)N[$].m(Q,null);f(i,ie),f(i,V),Z.m(V,null),f(i,ne),f(i,x),f(x,X),f(X,Ie),f(x,He),f(x,oe),f(oe,xe),f(x,Ge),f(x,ce),f(ce,je),S(c,ye,b),ge(ae,c,b),S(c,De,b),ge(Y,c,b),S(c,Se,b),y&&y.m(c,b),S(c,fe,b),R=!0},p(c,b){if((!R||b&1&&!he(r.src,n=c[0].poster_path?Me+"w500"+c[0].poster_path:"/default.jpg"))&&m(r,"src",n),(!R||b&1)&&k!==(k=c[0].name+"")&&te(w,k),(!R||b&1)&&J!==(J=(c[0]?c[0].first_air_date.substring(0,4):"")+"")&&te(z,J),c[0].vote_average?j?(j.p(c,b),b&1&&O(j,1)):(j=ct(c),j.c(),O(j,1),j.m(_,F)):j&&(Pe(),G(j,1,1,()=>{j=null}),Ce()),(!R||b&1)&&U!==(U=("first_air_date"in c[0]?c[0].first_air_date:"No Date Available")+"")&&te(W,U),b&33){_e=c[0].genres;let H;for(H=0;H<_e.length;H+=1){const ee=ot(c,_e,H);N[H]?N[H].p(ee,b):(N[H]=_t(ee),N[H].c(),N[H].m(Q,null))}for(;H<N.length;H+=1)N[H].d(1);N.length=_e.length}Ve===(Ve=Re(c))&&Z?Z.p(c,b):(Z.d(1),Z=Ve(c),Z&&(Z.c(),Z.m(V,null))),(!R||b&1)&&se!==(se=c[0].tagline+"")&&te(Ie,se),(!R||b&1)&&ke!==(ke=c[0].overview+"")&&te(je,ke),(!R||b&1)&&Qe(e,"background-image","url("+Me+"original/"+c[0].backdrop_path+")");const $={};b&8&&($.cast_details=c[3]),ae.$set($);const de={};Y.$set(de),c[5]==="tv"?y?(y.p(c,b),b&32&&O(y,1)):(y=ut(c),y.c(),O(y,1),y.m(fe.parentNode,fe)):y&&(Pe(),G(y,1,1,()=>{y=null}),Ce())},i(c){R||(O(j),O(ae.$$.fragment,c),O(Y.$$.fragment,c),O(y),R=!0)},o(c){G(j),G(ae.$$.fragment,c),G(Y.$$.fragment,c),G(y),R=!1},d(c){c&&u(e),j&&j.d(),Ue(N,c),Z.d(),c&&u(ye),be(ae,c),c&&u(De),a[8](null),be(Y,c),c&&u(Se),y&&y.d(c),c&&u(fe)}}}function ct(a){let e,l,t;return l=new gt({props:{progress:a[0].vote_average}}),{c(){e=v("div"),ve(l.$$.fragment),this.h()},l(s){e=p(s,"DIV",{class:!0});var r=g(e);pe(l.$$.fragment,r),r.forEach(u),this.h()},h(){m(e,"class","inline-flex justify-center transform -translate-x-5 bg-transparent align-center scale-60")},m(s,r){S(s,e,r),ge(l,e,null),t=!0},p(s,r){const n={};r&1&&(n.progress=s[0].vote_average),l.$set(n)},i(s){t||(O(l.$$.fragment,s),t=!0)},o(s){G(l.$$.fragment,s),t=!1},d(s){s&&u(e),be(l)}}}function ft(a){let e,l;return{c(){e=v("span"),l=A("|"),this.h()},l(t){e=p(t,"SPAN",{class:!0});var s=g(e);l=T(s,"|"),s.forEach(u),this.h()},h(){m(e,"class","mx-2")},m(t,s){S(t,e,s),f(e,l)},d(t){t&&u(e)}}}function _t(a){let e,l=a[18]+"",t,s,r,n,o=a[20]!==a[0].genres.length-1&&ft();return{c(){e=v("a"),t=A(l),r=E(),o&&o.c(),n=L(),this.h()},l(i){e=p(i,"A",{class:!0,href:!0});var _=g(e);t=T(_,l),_.forEach(u),r=I(i),o&&o.l(i),n=L(),this.h()},h(){m(e,"class","hover:text-skin-selected"),m(e,"href",s="/genre/"+a[5]+"/"+a[17])},m(i,_){S(i,e,_),f(e,t),S(i,r,_),o&&o.m(i,_),S(i,n,_)},p(i,_){_&1&&l!==(l=i[18]+"")&&te(t,l),_&33&&s!==(s="/genre/"+i[5]+"/"+i[17])&&m(e,"href",s),i[20]!==i[0].genres.length-1?o||(o=ft(),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&u(e),i&&u(r),o&&o.d(i),i&&u(n)}}}function Vt(a){let e,l,t;return{c(){e=v("div"),l=v("p"),t=A("No Trailer Available"),this.h()},l(s){e=p(s,"DIV",{class:!0});var r=g(e);l=p(r,"P",{class:!0});var n=g(l);t=T(n,"No Trailer Available"),n.forEach(u),r.forEach(u),this.h()},h(){m(l,"class","flex justify-center ml-4"),m(e,"class","flex pl-5")},m(s,r){S(s,e,r),f(e,l),f(l,t)},p:we,d(s){s&&u(e)}}}function Nt(a){let e,l=a[1],t=[];for(let s=0;s<l.length;s+=1)t[s]=dt(nt(a,l,s));return{c(){for(let s=0;s<t.length;s+=1)t[s].c();e=L()},l(s){for(let r=0;r<t.length;r+=1)t[r].l(s);e=L()},m(s,r){for(let n=0;n<t.length;n+=1)t[n].m(s,r);S(s,e,r)},p(s,r){if(r&66){l=s[1];let n;for(n=0;n<l.length;n+=1){const o=nt(s,l,n);t[n]?t[n].p(o,r):(t[n]=dt(o),t[n].c(),t[n].m(e.parentNode,e))}for(;n<t.length;n+=1)t[n].d(1);t.length=l.length}},d(s){Ue(t,s),s&&u(e)}}}function dt(a){let e,l,t,s,r,n,o,i;function _(){return a[7](a[14])}return{c(){e=v("div"),l=v("button"),t=v("img"),n=E(),this.h()},l(d){e=p(d,"DIV",{class:!0});var k=g(e);l=p(k,"BUTTON",{title:!0});var w=g(l);t=p(w,"IMG",{src:!0,alt:!0}),w.forEach(u),n=I(k),k.forEach(u),this.h()},h(){he(t.src,s=`https://img.youtube.com/vi/${a[14].key}/0.jpg`)||m(t,"src",s),m(t,"alt","movie poster"),m(l,"title",r=a[14].name),m(e,"class","flex-shrink-0 w-56 pl-2 cursor-pointer hover:opacity-80")},m(d,k){S(d,e,k),f(e,l),f(l,t),f(e,n),o||(i=pt(l,"click",_),o=!0)},p(d,k){a=d,k&2&&!he(t.src,s=`https://img.youtube.com/vi/${a[14].key}/0.jpg`)&&m(t,"src",s),k&2&&r!==(r=a[14].name)&&m(l,"title",r)},d(d){d&&u(e),o=!1,i()}}}function ut(a){let e=a[0],l,t,s=mt(a);return{c(){s.c(),l=L()},l(r){s.l(r),l=L()},m(r,n){s.m(r,n),S(r,l,n),t=!0},p(r,n){n&1&&Oe(e,e=r[0])?(Pe(),G(s,1,1,we),Ce(),s=mt(r),s.c(),O(s),s.m(l.parentNode,l)):s.p(r,n)},i(r){t||(O(s),t=!0)},o(r){G(s),t=!1},d(r){r&&u(l),s.d(r)}}}function mt(a){let e,l;return e=new yt({props:{tv_details:a[0],tv_id:a[2]}}),{c(){ve(e.$$.fragment)},l(t){pe(e.$$.fragment,t)},m(t,s){ge(e,t,s),l=!0},p(t,s){const r={};s&1&&(r.tv_details=t[0]),s&4&&(r.tv_id=t[2]),e.$set(r)},i(t){l||(O(e.$$.fragment,t),l=!0)},o(t){G(e.$$.fragment,t),l=!1},d(t){be(e,t)}}}function At(a){let e,l,t,s;const r=[St,Dt],n=[];function o(i,_){return i[0].id&&i[1]?0:1}return e=o(a),l=n[e]=r[e](a),{c(){l.c(),t=L()},l(i){l.l(i),t=L()},m(i,_){n[e].m(i,_),S(i,t,_),s=!0},p(i,[_]){let d=e;e=o(i),e===d?n[e].p(i,_):(Pe(),G(n[d],1,1,()=>{n[d]=null}),Ce(),l=n[e],l?l.p(i,_):(l=n[e]=r[e](i),l.c()),O(l,1),l.m(t.parentNode,t))},i(i){s||(O(l),s=!0)},o(i){G(l),s=!1},d(i){n[e].d(i),i&&u(t)}}}const Me="https://image.tmdb.org/t/p/";function Tt(a,e,l){let t,s,r,n,o,i;re(a,Ye,h=>l(9,t=h)),re(a,$e,h=>l(10,s=h)),re(a,et,h=>l(11,r=h)),re(a,tt,h=>l(12,n=h)),re(a,lt,h=>l(13,o=h)),re(a,st,h=>l(5,i=h));let{tv_details:_}=e,{trailer_details:d}=e,{tv_id:k}=e,{cast_details:w}=e;Ee(lt,o=_.name,o),Ee(tt,n=_.number_of_seasons,n),Ee(et,r=_.id,r);let B;function P(h,F){console.log("function trailer id",h),Ee($e,s=h,s),Ee(Ye,t=F,t),B.show()}window.scrollTo({top:-1e3,behavior:"smooth"});const J=h=>P(h.key,h.site);function z(h){vt[h?"unshift":"push"](()=>{B=h,l(4,B)})}return a.$$set=h=>{"tv_details"in h&&l(0,_=h.tv_details),"trailer_details"in h&&l(1,d=h.trailer_details),"tv_id"in h&&l(2,k=h.tv_id),"cast_details"in h&&l(3,w=h.cast_details)},[_,d,k,w,B,i,P,J,z]}class Ot extends Je{constructor(e){super();qe(this,e,Tt,At,Oe,{tv_details:0,trailer_details:1,tv_id:2,cast_details:3})}}function Pt(a){let e,l;return e=new Ot({props:{tv_details:a[0],trailer_details:a[1],cast_details:a[2],tv_id:a[3]}}),{c(){ve(e.$$.fragment)},l(t){pe(e.$$.fragment,t)},m(t,s){ge(e,t,s),l=!0},p(t,[s]){const r={};s&1&&(r.tv_details=t[0]),s&2&&(r.trailer_details=t[1]),s&4&&(r.cast_details=t[2]),e.$set(r)},i(t){l||(O(e.$$.fragment,t),l=!0)},o(t){G(e.$$.fragment,t),l=!1},d(t){be(e,t)}}}async function Jt({fetch:a,params:e}){st.set("tv");const s=await(await(await a("../api/postMovie",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({media:"tv",id:e.id})})).json()).res,o=(await(await a("../api/postTrailer",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({media:"tv",id:e.id})})).json()).res.results,d=await(await(await a("../../api/postCast",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({media:"tv",id:e.id})})).json()).res.cast;return{props:{tv_details:s,trailer_details:o,cast_details:d}}}function Ct(a,e,l){let t;re(a,Et,i=>l(4,t=i));let{tv_details:s}=e,{trailer_details:r}=e,{cast_details:n}=e,o=t.params.id;return a.$$set=i=>{"tv_details"in i&&l(0,s=i.tv_details),"trailer_details"in i&&l(1,r=i.trailer_details),"cast_details"in i&&l(2,n=i.cast_details)},[s,r,n,o]}class qt extends Je{constructor(e){super();qe(this,e,Ct,Pt,Oe,{tv_details:0,trailer_details:1,cast_details:2})}}export{qt as default,Jt as load};
