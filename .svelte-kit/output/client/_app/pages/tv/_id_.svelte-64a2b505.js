import{S as Je,i as qe,s as Te,e as v,k as E,t as A,c as p,a as g,d,m as I,h as O,b as u,X as he,g as S,G as c,j as te,I as we,O as Ue,l as R,n as Pe,o as B,p as Me,q as T,J as re,P as Ee,_ as vt,w as ve,x as pe,y as ge,B as be,f as Xe,H as pt,a0 as gt,M as bt}from"../../chunks/vendor-b506428e.js";import{v as Ze,b as $e,e as et,f as tt,g as lt,a as st}from"../../chunks/store-5c7cf519.js";import{P as kt}from"../../chunks/ProgressBar-0e64a379.js";import{S as wt,C as Et,M as It,t as Dt}from"../../chunks/tooltip-d6a5d940.js";import{p as yt}from"../../chunks/stores-8b219b7a.js";function at(a,e,l){const t=a.slice();return t[2]=e[l],t}function rt(a){let e,l,t,s,r,n,o,i,_=a[2].name+"",m,w,k,P,M=a[2].air_date+"",J,K,h,L,q,C,U=a[2].overview+"",W,le,Q;return{c(){e=v("div"),l=v("a"),t=v("div"),s=v("img"),n=E(),o=v("div"),i=v("h4"),m=A(_),w=E(),k=v("h6"),P=A("Air Date: "),J=A(M),K=E(),h=v("h6"),L=A("Overview:"),q=E(),C=v("h6"),W=A(U),Q=E(),this.h()},l(j){e=p(j,"DIV",{class:!0});var H=g(e);l=p(H,"A",{href:!0,class:!0});var X=g(l);t=p(X,"DIV",{class:!0});var ie=g(t);s=p(ie,"IMG",{class:!0,src:!0,alt:!0}),ie.forEach(d),n=I(X),o=p(X,"DIV",{class:!0});var V=g(o);i=p(V,"H4",{});var ne=g(i);m=O(ne,_),ne.forEach(d),w=I(V),k=p(V,"H6",{});var G=g(k);P=O(G,"Air Date: "),J=O(G,M),G.forEach(d),K=I(V),h=p(V,"H6",{});var Y=g(h);L=O(Y,"Overview:"),Y.forEach(d),q=I(V),C=p(V,"H6",{class:!0});var se=g(C);W=O(se,U),se.forEach(d),V.forEach(d),X.forEach(d),Q=I(H),H.forEach(d),this.h()},h(){u(s,"class","flex xl:w-40 xl: h-60 items-start"),he(s.src,r=a[2].poster_path?it+a[2].poster_path:"/default.jpg")||u(s,"src",r),u(s,"alt","episode"),u(t,"class","flex mx-auto max-h-full max-w-full xl:m-0 xl:flex-none xl:w-40 xl:h-60 xl:items-start"),u(C,"class","flex-1 pr-8 text-skin-muted mb-4"),u(o,"class","justify-self-center ml-2 block xl:justify-start"),u(l,"href",le=`/seasons/${a[1]}/${a[2].season_number}`),u(l,"class","flex flex-col xl:flex-row text-skin-base xl:rounded-lg"),u(e,"class","bg-skin-primary flex flex-col xl:flex-row m-4 p-2 rounded-lg")},m(j,H){S(j,e,H),c(e,l),c(l,t),c(t,s),c(l,n),c(l,o),c(o,i),c(i,m),c(o,w),c(o,k),c(k,P),c(k,J),c(o,K),c(o,h),c(h,L),c(o,q),c(o,C),c(C,W),c(e,Q)},p(j,H){H&1&&!he(s.src,r=j[2].poster_path?it+j[2].poster_path:"/default.jpg")&&u(s,"src",r),H&1&&_!==(_=j[2].name+"")&&te(m,_),H&1&&M!==(M=j[2].air_date+"")&&te(J,M),H&1&&U!==(U=j[2].overview+"")&&te(W,U),H&3&&le!==(le=`/seasons/${j[1]}/${j[2].season_number}`)&&u(l,"href",le)},d(j){j&&d(e)}}}function jt(a){let e,l,t,s,r,n=a[0].seasons,o=[];for(let i=0;i<n.length;i+=1)o[i]=rt(at(a,n,i));return{c(){e=v("section"),l=v("div"),t=v("h4"),s=A("Season Information"),r=E();for(let i=0;i<o.length;i+=1)o[i].c();this.h()},l(i){e=p(i,"SECTION",{id:!0});var _=g(e);l=p(_,"DIV",{class:!0});var m=g(l);t=p(m,"H4",{class:!0});var w=g(t);s=O(w,"Season Information"),w.forEach(d),r=I(m);for(let k=0;k<o.length;k+=1)o[k].l(m);m.forEach(d),_.forEach(d),this.h()},h(){u(t,"class","pb-2"),u(l,"class","max-w-7xl mx-auto text-skin-base xl:mt-5 xl:mb-10 bg-skin-secondary xl:pl-5 pt-1 pb-1 xl:rounded-2xl"),u(e,"id","Seasons")},m(i,_){S(i,e,_),c(e,l),c(l,t),c(t,s),c(l,r);for(let m=0;m<o.length;m+=1)o[m].m(l,null)},p(i,[_]){if(_&3){n=i[0].seasons;let m;for(m=0;m<n.length;m+=1){const w=at(i,n,m);o[m]?o[m].p(w,_):(o[m]=rt(w),o[m].c(),o[m].m(l,null))}for(;m<o.length;m+=1)o[m].d(1);o.length=n.length}},i:we,o:we,d(i){i&&d(e),Ue(o,i)}}}const it="https://www.themoviedb.org/t/p/original";function St(a,e,l){let{tv_details:t}=e,{tv_id:s}=e;return a.$$set=r=>{"tv_details"in r&&l(0,t=r.tv_details),"tv_id"in r&&l(1,s=r.tv_id)},[t,s]}class Vt extends Je{constructor(e){super();qe(this,e,St,jt,Te,{tv_details:0,tv_id:1})}}function nt(a,e,l){const t=a.slice();return t[14]=e[l],t}function ot(a,e,l){const t=a.slice();return t[17]=e[l].id,t[18]=e[l].name,t[20]=l,t}function Nt(a){let e,l;return e=new wt({}),{c(){ve(e.$$.fragment)},l(t){pe(e.$$.fragment,t)},m(t,s){ge(e,t,s),l=!0},p:we,i(t){l||(T(e.$$.fragment,t),l=!0)},o(t){B(e.$$.fragment,t),l=!1},d(t){be(e,t)}}}function At(a){let e,l,t,s,r,n,o,i,_,m,w=a[0].name+"",k,P,M,J=(a[0]?a[0].first_air_date.substring(0,4):"")+"",K,h,L,q,C,U=("first_air_date"in a[0]?a[0].first_air_date:"No Date Available")+"",W,le,Q,j,H,X,ie,V,ne,G,Y,se=a[0].tagline+"",Ie,He,oe,xe,Ge,fe,ke=a[0].overview+"",De,ye,ae,je,Z,Se,ce,z,D=a[0].vote_average&&ft(a),_e=a[0].genres,N=[];for(let f=0;f<_e.length;f+=1)N[f]=_t(ot(a,_e,f));function ze(f,b){return f[1].length>0?Tt:Ot}let Ve=ze(a),F=Ve(a);ae=new Et({props:{cast:a[3]}});let ht={};Z=new It({props:ht}),a[8](Z);let y=a[5]==="tv"&&ut(a);return{c(){e=v("section"),l=v("div"),t=v("div"),s=v("div"),r=v("img"),o=E(),i=v("div"),_=v("div"),m=v("h4"),k=A(w),P=E(),M=v("span"),K=A(J),h=E(),D&&D.c(),L=E(),q=v("div"),C=v("div"),W=A(U),le=E(),Q=v("span"),j=A("\u2022"),H=E(),X=v("div");for(let f=0;f<N.length;f+=1)N[f].c();ie=E(),V=v("div"),F.c(),ne=E(),G=v("div"),Y=v("div"),Ie=A(se),He=E(),oe=v("h4"),xe=A("Overview"),Ge=E(),fe=v("div"),De=A(ke),ye=E(),ve(ae.$$.fragment),je=E(),ve(Z.$$.fragment),Se=E(),y&&y.c(),ce=R(),this.h()},l(f){e=p(f,"SECTION",{id:!0,class:!0,style:!0});var b=g(e);l=p(b,"DIV",{class:!0,style:!0});var $=g(l);t=p($,"DIV",{class:!0});var de=g(t);s=p(de,"DIV",{class:!0});var x=g(s);r=p(x,"IMG",{class:!0,src:!0,alt:!0}),x.forEach(d),o=I(de),i=p(de,"DIV",{class:!0});var ee=g(i);_=p(ee,"DIV",{class:!0});var ue=g(_);m=p(ue,"H4",{class:!0});var Ne=g(m);k=O(Ne,w),P=I(Ne),M=p(Ne,"SPAN",{class:!0});var Fe=g(M);K=O(Fe,J),Fe.forEach(d),Ne.forEach(d),h=I(ue),D&&D.l(ue),L=I(ue),q=p(ue,"DIV",{class:!0});var Ae=g(q);C=p(Ae,"DIV",{class:!0});var Oe=g(C);W=O(Oe,U),le=I(Oe),Q=p(Oe,"SPAN",{class:!0});var Ke=g(Q);j=O(Ke,"\u2022"),Ke.forEach(d),Oe.forEach(d),H=I(Ae),X=p(Ae,"DIV",{});var Le=g(X);for(let Be=0;Be<N.length;Be+=1)N[Be].l(Le);Le.forEach(d),Ae.forEach(d),ue.forEach(d),ie=I(ee),V=p(ee,"DIV",{class:!0});var Qe=g(V);F.l(Qe),Qe.forEach(d),ne=I(ee),G=p(ee,"DIV",{class:!0});var me=g(G);Y=p(me,"DIV",{class:!0});var Re=g(Y);Ie=O(Re,se),Re.forEach(d),He=I(me),oe=p(me,"H4",{class:!0});var We=g(oe);xe=O(We,"Overview"),We.forEach(d),Ge=I(me),fe=p(me,"DIV",{class:!0});var Ye=g(fe);De=O(Ye,ke),Ye.forEach(d),me.forEach(d),ee.forEach(d),de.forEach(d),$.forEach(d),b.forEach(d),ye=I(f),pe(ae.$$.fragment,f),je=I(f),pe(Z.$$.fragment,f),Se=I(f),y&&y.l(f),ce=R(),this.h()},h(){u(r,"class","h-96 w-64 md:h-120 md:w-80 overflow-hidden rounded-2xl mx-auto"),he(r.src,n=a[0].poster_path?Ce+"w500"+a[0].poster_path:"/default.jpg")||u(r,"src",n),u(r,"alt","movie poster"),u(s,"class","col-start-1 col-end-2 "),u(M,"class","ml-1 text-lg md:text-4xl text-skin-inverted"),u(m,"class","w-full md:text-4xl"),u(Q,"class","hidden md:px-2 md:inline"),u(C,"class","pl-0"),u(q,"class","md:flex"),u(_,"class","mt-6 md:mt-0 w-full mb-6 flex flex-wrap"),u(V,"class","mb-1 w-full md:h-48 flex flex-wrap justify-center md:justify-start md:flex-nowrap md:overflow-y-hidden relative"),u(Y,"class","text-lg italic opacity-70"),u(oe,"class","my-2 w-full font-semibold"),u(fe,"class","overview-details"),u(G,"class","w-full"),u(i,"class","md:col-start-2 md:col-end-5 flex flex-wrap content-start md:pl-10"),u(t,"class","grid max-w-7xl md:grid-cols-[20rem_minmax(0,_1fr)_minmax(0,_1fr)_minmax(0,_1fr)] px-10 py-8 mx-auto md:rounded-2xl"),u(l,"class","bg-gradient-to-r md:rounded-2xl"),Xe(l,"background-image","linear-gradient(to right, rgb(5, 69, 112) 150px, rgba(37, 137, 204, 0.84) 100%)"),u(e,"id","media"),u(e,"class","text-skin-inverted md:mt-5 bg-no-repeat bg-right-top bg-contain md:bg-cover md:rounded-2xl"),Xe(e,"background-image","url("+Ce+"original/"+a[0].backdrop_path+")")},m(f,b){S(f,e,b),c(e,l),c(l,t),c(t,s),c(s,r),c(t,o),c(t,i),c(i,_),c(_,m),c(m,k),c(m,P),c(m,M),c(M,K),c(_,h),D&&D.m(_,null),c(_,L),c(_,q),c(q,C),c(C,W),c(C,le),c(C,Q),c(Q,j),c(q,H),c(q,X);for(let $=0;$<N.length;$+=1)N[$].m(X,null);c(i,ie),c(i,V),F.m(V,null),c(i,ne),c(i,G),c(G,Y),c(Y,Ie),c(G,He),c(G,oe),c(oe,xe),c(G,Ge),c(G,fe),c(fe,De),S(f,ye,b),ge(ae,f,b),S(f,je,b),ge(Z,f,b),S(f,Se,b),y&&y.m(f,b),S(f,ce,b),z=!0},p(f,b){if((!z||b&1&&!he(r.src,n=f[0].poster_path?Ce+"w500"+f[0].poster_path:"/default.jpg"))&&u(r,"src",n),(!z||b&1)&&w!==(w=f[0].name+"")&&te(k,w),(!z||b&1)&&J!==(J=(f[0]?f[0].first_air_date.substring(0,4):"")+"")&&te(K,J),f[0].vote_average?D?(D.p(f,b),b&1&&T(D,1)):(D=ft(f),D.c(),T(D,1),D.m(_,L)):D&&(Pe(),B(D,1,1,()=>{D=null}),Me()),(!z||b&1)&&U!==(U=("first_air_date"in f[0]?f[0].first_air_date:"No Date Available")+"")&&te(W,U),b&33){_e=f[0].genres;let x;for(x=0;x<_e.length;x+=1){const ee=ot(f,_e,x);N[x]?N[x].p(ee,b):(N[x]=_t(ee),N[x].c(),N[x].m(X,null))}for(;x<N.length;x+=1)N[x].d(1);N.length=_e.length}Ve===(Ve=ze(f))&&F?F.p(f,b):(F.d(1),F=Ve(f),F&&(F.c(),F.m(V,null))),(!z||b&1)&&se!==(se=f[0].tagline+"")&&te(Ie,se),(!z||b&1)&&ke!==(ke=f[0].overview+"")&&te(De,ke),(!z||b&1)&&Xe(e,"background-image","url("+Ce+"original/"+f[0].backdrop_path+")");const $={};b&8&&($.cast=f[3]),ae.$set($);const de={};Z.$set(de),f[5]==="tv"?y?(y.p(f,b),b&32&&T(y,1)):(y=ut(f),y.c(),T(y,1),y.m(ce.parentNode,ce)):y&&(Pe(),B(y,1,1,()=>{y=null}),Me())},i(f){z||(T(D),T(ae.$$.fragment,f),T(Z.$$.fragment,f),T(y),z=!0)},o(f){B(D),B(ae.$$.fragment,f),B(Z.$$.fragment,f),B(y),z=!1},d(f){f&&d(e),D&&D.d(),Ue(N,f),F.d(),f&&d(ye),be(ae,f),f&&d(je),a[8](null),be(Z,f),f&&d(Se),y&&y.d(f),f&&d(ce)}}}function ft(a){let e,l,t;return l=new kt({props:{progress:a[0].vote_average}}),{c(){e=v("div"),ve(l.$$.fragment),this.h()},l(s){e=p(s,"DIV",{class:!0});var r=g(e);pe(l.$$.fragment,r),r.forEach(d),this.h()},h(){u(e,"class","bg-transparent inline-flex align-center justify-center transform -translate-x-5 scale-60")},m(s,r){S(s,e,r),ge(l,e,null),t=!0},p(s,r){const n={};r&1&&(n.progress=s[0].vote_average),l.$set(n)},i(s){t||(T(l.$$.fragment,s),t=!0)},o(s){B(l.$$.fragment,s),t=!1},d(s){s&&d(e),be(l)}}}function ct(a){let e,l;return{c(){e=v("span"),l=A("|"),this.h()},l(t){e=p(t,"SPAN",{class:!0});var s=g(e);l=O(s,"|"),s.forEach(d),this.h()},h(){u(e,"class","mx-2")},m(t,s){S(t,e,s),c(e,l)},d(t){t&&d(e)}}}function _t(a){let e,l=a[18]+"",t,s,r,n,o=a[20]!==a[0].genres.length-1&&ct();return{c(){e=v("a"),t=A(l),r=E(),o&&o.c(),n=R(),this.h()},l(i){e=p(i,"A",{class:!0,href:!0});var _=g(e);t=O(_,l),_.forEach(d),r=I(i),o&&o.l(i),n=R(),this.h()},h(){u(e,"class","hover:text-skin-selected"),u(e,"href",s="/genre/"+a[5]+"/"+a[17])},m(i,_){S(i,e,_),c(e,t),S(i,r,_),o&&o.m(i,_),S(i,n,_)},p(i,_){_&1&&l!==(l=i[18]+"")&&te(t,l),_&33&&s!==(s="/genre/"+i[5]+"/"+i[17])&&u(e,"href",s),i[20]!==i[0].genres.length-1?o||(o=ct(),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&d(e),i&&d(r),o&&o.d(i),i&&d(n)}}}function Ot(a){let e,l,t;return{c(){e=v("div"),l=v("p"),t=A("No Trailer Available"),this.h()},l(s){e=p(s,"DIV",{class:!0});var r=g(e);l=p(r,"P",{class:!0});var n=g(l);t=O(n,"No Trailer Available"),n.forEach(d),r.forEach(d),this.h()},h(){u(l,"class","flex justify-center ml-4"),u(e,"class","flex pl-5")},m(s,r){S(s,e,r),c(e,l),c(l,t)},p:we,d(s){s&&d(e)}}}function Tt(a){let e,l=a[1],t=[];for(let s=0;s<l.length;s+=1)t[s]=dt(nt(a,l,s));return{c(){for(let s=0;s<t.length;s+=1)t[s].c();e=R()},l(s){for(let r=0;r<t.length;r+=1)t[r].l(s);e=R()},m(s,r){for(let n=0;n<t.length;n+=1)t[n].m(s,r);S(s,e,r)},p(s,r){if(r&66){l=s[1];let n;for(n=0;n<l.length;n+=1){const o=nt(s,l,n);t[n]?t[n].p(o,r):(t[n]=dt(o),t[n].c(),t[n].m(e.parentNode,e))}for(;n<t.length;n+=1)t[n].d(1);t.length=l.length}},d(s){Ue(t,s),s&&d(e)}}}function dt(a){let e,l,t,s,r,n,o,i,_;function m(){return a[7](a[14])}return{c(){e=v("div"),l=v("button"),t=v("img"),o=E(),this.h()},l(w){e=p(w,"DIV",{class:!0});var k=g(e);l=p(k,"BUTTON",{title:!0});var P=g(l);t=p(P,"IMG",{src:!0,alt:!0}),P.forEach(d),o=I(k),k.forEach(d),this.h()},h(){he(t.src,s=`https://img.youtube.com/vi/${a[14].key}/0.jpg`)||u(t,"src",s),u(t,"alt","movie poster"),u(l,"title",r=a[14].name),u(e,"class","w-56 flex-shrink-0 pl-2 cursor-pointer hover:opacity-80")},m(w,k){S(w,e,k),c(e,l),c(l,t),c(e,o),i||(_=[pt(l,"click",m),gt(n=Dt.call(null,l))],i=!0)},p(w,k){a=w,k&2&&!he(t.src,s=`https://img.youtube.com/vi/${a[14].key}/0.jpg`)&&u(t,"src",s),k&2&&r!==(r=a[14].name)&&u(l,"title",r)},d(w){w&&d(e),i=!1,bt(_)}}}function ut(a){let e=a[0],l,t,s=mt(a);return{c(){s.c(),l=R()},l(r){s.l(r),l=R()},m(r,n){s.m(r,n),S(r,l,n),t=!0},p(r,n){n&1&&Te(e,e=r[0])?(Pe(),B(s,1,1,we),Me(),s=mt(r),s.c(),T(s),s.m(l.parentNode,l)):s.p(r,n)},i(r){t||(T(s),t=!0)},o(r){B(s),t=!1},d(r){r&&d(l),s.d(r)}}}function mt(a){let e,l;return e=new Vt({props:{tv_details:a[0],tv_id:a[2]}}),{c(){ve(e.$$.fragment)},l(t){pe(e.$$.fragment,t)},m(t,s){ge(e,t,s),l=!0},p(t,s){const r={};s&1&&(r.tv_details=t[0]),s&4&&(r.tv_id=t[2]),e.$set(r)},i(t){l||(T(e.$$.fragment,t),l=!0)},o(t){B(e.$$.fragment,t),l=!1},d(t){be(e,t)}}}function Pt(a){let e,l,t,s;const r=[At,Nt],n=[];function o(i,_){return i[0].id&&i[1]?0:1}return e=o(a),l=n[e]=r[e](a),{c(){l.c(),t=R()},l(i){l.l(i),t=R()},m(i,_){n[e].m(i,_),S(i,t,_),s=!0},p(i,[_]){let m=e;e=o(i),e===m?n[e].p(i,_):(Pe(),B(n[m],1,1,()=>{n[m]=null}),Me(),l=n[e],l?l.p(i,_):(l=n[e]=r[e](i),l.c()),T(l,1),l.m(t.parentNode,t))},i(i){s||(T(l),s=!0)},o(i){B(l),s=!1},d(i){n[e].d(i),i&&d(t)}}}const Ce="https://image.tmdb.org/t/p/";function Mt(a,e,l){let t,s,r,n,o,i;re(a,Ze,h=>l(9,t=h)),re(a,$e,h=>l(10,s=h)),re(a,et,h=>l(11,r=h)),re(a,tt,h=>l(12,n=h)),re(a,lt,h=>l(13,o=h)),re(a,st,h=>l(5,i=h));let{tv_details:_}=e,{trailer_details:m}=e,{tv_id:w}=e,{cast:k}=e;Ee(lt,o=_.name,o),Ee(tt,n=_.number_of_seasons,n),Ee(et,r=_.id,r);let P;function M(h,L){console.log("function trailer id",h),Ee($e,s=h,s),Ee(Ze,t=L,t),P.show()}window.scrollTo({top:-1e3,behavior:"smooth"});const J=h=>M(h.key,h.site);function K(h){vt[h?"unshift":"push"](()=>{P=h,l(4,P)})}return a.$$set=h=>{"tv_details"in h&&l(0,_=h.tv_details),"trailer_details"in h&&l(1,m=h.trailer_details),"tv_id"in h&&l(2,w=h.tv_id),"cast"in h&&l(3,k=h.cast)},[_,m,w,k,P,i,M,J,K]}class Ct extends Je{constructor(e){super();qe(this,e,Mt,Pt,Te,{tv_details:0,trailer_details:1,tv_id:2,cast:3})}}function Ht(a){let e,l;return e=new Ct({props:{tv_details:a[0],trailer_details:a[1],cast:a[2],tv_id:a[3]}}),{c(){ve(e.$$.fragment)},l(t){pe(e.$$.fragment,t)},m(t,s){ge(e,t,s),l=!0},p(t,[s]){const r={};s&1&&(r.tv_details=t[0]),s&2&&(r.trailer_details=t[1]),s&4&&(r.cast=t[2]),e.$set(r)},i(t){l||(T(e.$$.fragment,t),l=!0)},o(t){B(e.$$.fragment,t),l=!1},d(t){be(e,t)}}}async function Xt({fetch:a,params:e}){st.set("tv");const t=await(await(await a("../api/getMovie",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({media:"tv",id:e.id})})).json()).res,r=(await(await a("../api/postData",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({api_ref:"trailer",media:"tv",id:e.id})})).json()).res.results,o=await(await(await a("../../api/postData",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({api_ref:"cast",media:"tv",id:e.id})})).json()).res.cast;return{props:{tv_details:t,trailer_details:r,cast:o}}}function xt(a,e,l){let t;re(a,yt,i=>l(4,t=i));let{tv_details:s}=e,{trailer_details:r}=e,{cast:n}=e,o=t.params.id;return a.$$set=i=>{"tv_details"in i&&l(0,s=i.tv_details),"trailer_details"in i&&l(1,r=i.trailer_details),"cast"in i&&l(2,n=i.cast)},[s,r,n,o]}class zt extends Je{constructor(e){super();qe(this,e,xt,Ht,Te,{tv_details:0,trailer_details:1,cast:2})}}export{zt as default,Xt as load};
