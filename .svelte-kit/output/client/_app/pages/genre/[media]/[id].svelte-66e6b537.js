import{S as d,i as p,s as m,j as g,m as k,o as h,x as c,u as l,v as y,l as u,f as b,w as S,d as j,L as w,M,r as v,H as C}from"../../../chunks/vendor-8fe9a59e.js";import{a as N,s as _}from"../../../chunks/store-fe56146d.js";import{M as O}from"../../../chunks/MainSection-d39b3699.js";import"../../../chunks/Spinner-629d5ba5.js";function f(o){let s,n;return s=new O({props:{data:o[0],total_pages:o[1],genres:o[2]}}),{c(){g(s.$$.fragment)},l(t){k(s.$$.fragment,t)},m(t,e){h(s,t,e),n=!0},p(t,e){const a={};e&1&&(a.data=t[0]),e&2&&(a.total_pages=t[1]),e&4&&(a.genres=t[2]),s.$set(a)},i(t){n||(c(s.$$.fragment,t),n=!0)},o(t){l(s.$$.fragment,t),n=!1},d(t){y(s,t)}}}function T(o){let s=o[0],n,t,e=f(o);return{c(){e.c(),n=u()},l(a){e.l(a),n=u()},m(a,r){e.m(a,r),b(a,n,r),t=!0},p(a,[r]){r&1&&m(s,s=a[0])?(v(),l(e,1,1,C),S(),e=f(a),e.c(),c(e),e.m(n.parentNode,n)):e.p(a,r)},i(a){t||(c(e),t=!0)},o(a){l(e),t=!1},d(a){a&&j(n),e.d(a)}}}const J=async({fetch:o,page:s})=>{const n=s.params.id;N.set(s.params.media);const e=await(await o("../../api/getShowGenre",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({media:s.params.media,page:"1",genre:n})})).json(),a=await e.res.results,r=await e.res.total_pages;return{props:{data:a,total_pages:r,genres:n}}};function q(o,s,n){let t;w(o,_,i=>n(3,t=i));let{data:e}=s,{total_pages:a}=s,{genres:r}=s;return M(_,t=null,t),o.$$set=i=>{"data"in i&&n(0,e=i.data),"total_pages"in i&&n(1,a=i.total_pages),"genres"in i&&n(2,r=i.genres)},[e,a,r]}class L extends d{constructor(s){super();p(this,s,q,T,m,{data:0,total_pages:1,genres:2})}}export{L as default,J as load};
