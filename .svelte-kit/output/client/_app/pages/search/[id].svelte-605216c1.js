import{N as p,S as _,i as f,s as l,j as d,m as g,o as k,x as i,u as c,v as h,l as u,f as y,w as S,d as j,r as b,H as w}from"../../chunks/vendor-8fe9a59e.js";import{a as v}from"../../chunks/store-fe56146d.js";import{M}from"../../chunks/MainSection-d39b3699.js";import"../../chunks/Spinner-629d5ba5.js";function m(o){let s,n;return s=new M({props:{data:o[0],total_pages:o[1]}}),{c(){d(s.$$.fragment)},l(e){g(s.$$.fragment,e)},m(e,a){k(s,e,a),n=!0},p(e,a){const t={};a&1&&(t.data=e[0]),a&2&&(t.total_pages=e[1]),s.$set(t)},i(e){n||(i(s.$$.fragment,e),n=!0)},o(e){c(s.$$.fragment,e),n=!1},d(e){h(s,e)}}}function N(o){let s=o[0],n,e,a=m(o);return{c(){a.c(),n=u()},l(t){a.l(t),n=u()},m(t,r){a.m(t,r),y(t,n,r),e=!0},p(t,[r]){r&1&&l(s,s=t[0])?(b(),c(a,1,1,w),S(),a=m(t),a.c(),i(a),a.m(n.parentNode,n)):a.p(t,r)},i(t){e||(i(a),e=!0)},o(t){c(a),e=!1},d(t){t&&j(n),a.d(t)}}}async function D({fetch:o,page:s}){const e=await(await o("../api/getSearch",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({media:p(v),page:"1",query:s.params.id})})).json(),a=await e.res.results,t=await e.res.total_pages;return{props:{data:a,total_pages:t}}}function q(o,s,n){let{data:e}=s,{total_pages:a}=s;return o.$$set=t=>{"data"in t&&n(0,e=t.data),"total_pages"in t&&n(1,a=t.total_pages)},[e,a]}class H extends _{constructor(s){super();f(this,s,q,N,l,{data:0,total_pages:1})}}export{H as default,D as load};
