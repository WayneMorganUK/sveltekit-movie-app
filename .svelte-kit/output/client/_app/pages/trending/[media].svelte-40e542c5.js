import{S as c,i as m,s as p,j as u,m as l,o as _,x as d,u as f,v as g,L as h,M as j}from"../../chunks/vendor-fc6286ba.js";import{d as r,a as S,s as i}from"../../chunks/store-07881416.js";import{M as w}from"../../chunks/MainSection-8e495d87.js";import"../../chunks/ProgressBar-f61e37f1.js";function y(s){let e,a;return e=new w({props:{total_pages:s[0]}}),{c(){u(e.$$.fragment)},l(t){l(e.$$.fragment,t)},m(t,n){_(e,t,n),a=!0},p(t,[n]){const o={};n&1&&(o.total_pages=t[0]),e.$set(o)},i(t){a||(d(e.$$.fragment,t),a=!0)},o(t){f(e.$$.fragment,t),a=!1},d(t){g(e,t)}}}async function x({fetch:s,page:e}){r.set(void 0),S.set(e.params.media);const t=await(await s("../../api/getShow",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({media:e.params.media,page:"1"})})).json();return r.set(await t.res.results),{props:{total_pages:await t.res.total_pages}}}function $(s,e,a){let t;h(s,i,o=>a(1,t=o));let{total_pages:n}=e;return j(i,t=null,t),s.$$set=o=>{"total_pages"in o&&a(0,n=o.total_pages)},[n]}class B extends c{constructor(e){super();m(this,e,$,y,p,{total_pages:0})}}export{B as default,x as load};
