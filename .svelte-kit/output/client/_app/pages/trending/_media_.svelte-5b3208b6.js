import{S as f,i as g,s as p,w as k,x as y,y as h,q as i,o as c,B as b,l as u,g as w,p as S,d as j,J as _,P as B,n as M,I as P}from"../../chunks/vendor-b506428e.js";import{d as l,c as $,a as q,s as m}from"../../chunks/store-5c7cf519.js";import{M as v}from"../../chunks/MainSection-15544e19.js";import"../../chunks/ProgressBar-0e64a379.js";function d(r){let s,o;return s=new v({props:{total_pages:r[0]}}),{c(){k(s.$$.fragment)},l(e){y(s.$$.fragment,e)},m(e,t){h(s,e,t),o=!0},p(e,t){const a={};t&1&&(a.total_pages=e[0]),s.$set(a)},i(e){o||(i(s.$$.fragment,e),o=!0)},o(e){c(s.$$.fragment,e),o=!1},d(e){b(s,e)}}}function C(r){let s=r[1],o,e,t=d(r);return{c(){t.c(),o=u()},l(a){t.l(a),o=u()},m(a,n){t.m(a,n),w(a,o,n),e=!0},p(a,[n]){n&2&&p(s,s=a[1])?(M(),c(t,1,1,P),S(),t=d(a),t.c(),i(t),t.m(o.parentNode,o)):t.p(a,n)},i(a){e||(i(t),e=!0)},o(a){c(t),e=!1},d(a){a&&j(o),t.d(a)}}}async function I({fetch:r,params:s}){l.set(void 0),$.set(1),q.set(s.media);const o=await(await r("../../api/getShow",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({media:s.media,page:"1"})})).json();return l.set(await o.res.results),{props:{total_pages:await o.res.total_pages}}}function J(r,s,o){let e,t;_(r,m,n=>o(2,e=n)),_(r,l,n=>o(1,t=n));let{total_pages:a}=s;return B(m,e=null,e),r.$$set=n=>{"total_pages"in n&&o(0,a=n.total_pages)},[a,t]}class U extends f{constructor(s){super();g(this,s,J,C,p,{total_pages:0})}}export{U as default,I as load};
