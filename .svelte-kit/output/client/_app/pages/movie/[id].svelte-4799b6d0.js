import{S as Ue,i as Ye,s as ze,l as q,f as P,r as we,u as $,w as Ee,x as D,d,L as Qe,Y as st,j as ee,m as te,o as le,H as ye,v as ae,e as v,t as j,k as S,c as h,a as g,g as N,n as V,b as m,D as f,h as B,O as Re,_ as xe,K as rt,F as it,M as nt}from"../../chunks/vendor-8fe9a59e.js";import{a as He}from"../../chunks/store-fe56146d.js";import{S as We,P as ot}from"../../chunks/Spinner-629d5ba5.js";import{C as ct,M as ft}from"../../chunks/Cast-ca792f96.js";function Xe(r,e,t){const l=r.slice();return l[7]=e[t].id,l[8]=e[t].name,l[10]=t,l}function ut(r){let e,t;return e=new We({}),{c(){ee(e.$$.fragment)},l(l){te(e.$$.fragment,l)},m(l,a){le(e,l,a),t=!0},p:ye,i(l){t||(D(e.$$.fragment,l),t=!0)},o(l){$(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function _t(r){let e,t,l,a,n,o,c,s,u,_,w=r[0].title+"",G,De,F,se=(r[0].release_date?r[0].release_date.substring(0,4):"")+"",ce,je,T,H,re=(r[0].release_date?r[0].release_date:"No Date Available")+"",fe,Ne,K,Se,Ve,L,Pe,$e,C,ue,Te,M,U,ie=r[0].tagline+"",_e,Ae,Y,Oe,Ce,z,ne=r[0].overview+"",de,me,J,ve,Q,A,R=r[0].genres,y=[];for(let i=0;i<R.length;i+=1)y[i]=et(Xe(r,R,i));let I="runtime"in r[0]&&tt(r),b=r[0].vote_average&&lt(r);function Je(i,p){return i[1]!==999?mt:dt}let he=Je(r),O=he(r);J=new ct({props:{cast:r[2]}});let k=r[1]!==999&&at(r);return{c(){e=v("section"),t=v("div"),l=v("div"),a=v("div"),n=v("img"),c=S(),s=v("div"),u=v("div"),_=v("h4"),G=j(w),De=S(),F=v("span"),ce=j(se),je=S(),T=v("div"),H=v("div"),fe=j(re),Ne=S(),K=v("span"),Se=j("\u2022"),Ve=S(),L=v("div");for(let i=0;i<y.length;i+=1)y[i].c();Pe=S(),I&&I.c(),$e=S(),C=v("div"),b&&b.c(),ue=S(),O.c(),Te=S(),M=v("div"),U=v("div"),_e=j(ie),Ae=S(),Y=v("h4"),Oe=j("Overview"),Ce=S(),z=v("div"),de=j(ne),me=S(),ee(J.$$.fragment),ve=S(),k&&k.c(),Q=q(),this.h()},l(i){e=h(i,"SECTION",{id:!0,class:!0,style:!0});var p=g(e);t=h(p,"DIV",{class:!0,style:!0});var x=g(t);l=h(x,"DIV",{class:!0});var E=g(l);a=h(E,"DIV",{class:!0});var oe=g(a);n=h(oe,"IMG",{class:!0,src:!0,alt:!0}),oe.forEach(d),c=V(E),s=h(E,"DIV",{class:!0});var W=g(s);u=h(W,"DIV",{class:!0});var pe=g(u);_=h(pe,"H4",{class:!0});var ge=g(_);G=N(ge,w),De=V(ge),F=h(ge,"SPAN",{class:!0});var qe=g(F);ce=N(qe,se),qe.forEach(d),ge.forEach(d),je=V(pe),T=h(pe,"DIV",{class:!0});var X=g(T);H=h(X,"DIV",{class:!0});var be=g(H);fe=N(be,re),Ne=V(be),K=h(be,"SPAN",{class:!0});var Be=g(K);Se=N(Be,"\u2022"),Be.forEach(d),be.forEach(d),Ve=V(X),L=h(X,"DIV",{});var Ge=g(L);for(let Me=0;Me<y.length;Me+=1)y[Me].l(Ge);Ge.forEach(d),Pe=V(X),I&&I.l(X),X.forEach(d),pe.forEach(d),$e=V(W),C=h(W,"DIV",{class:!0});var ke=g(C);b&&b.l(ke),ue=V(ke),O.l(ke),ke.forEach(d),Te=V(W),M=h(W,"DIV",{class:!0});var Z=g(M);U=h(Z,"DIV",{class:!0});var Fe=g(U);_e=N(Fe,ie),Fe.forEach(d),Ae=V(Z),Y=h(Z,"H4",{class:!0});var Ke=g(Y);Oe=N(Ke,"Overview"),Ke.forEach(d),Ce=V(Z),z=h(Z,"DIV",{class:!0});var Le=g(z);de=N(Le,ne),Le.forEach(d),Z.forEach(d),W.forEach(d),E.forEach(d),x.forEach(d),p.forEach(d),me=V(i),te(J.$$.fragment,i),ve=V(i),k&&k.l(i),Q=q(),this.h()},h(){m(n,"class","h-96 w-64 xl:h-120 xl:w-80 overflow-hidden rounded-2xl mx-auto"),Re(n.src,o=r[0].poster_path?Ie+"w500"+r[0].poster_path:"/default.jpg")||m(n,"src",o),m(n,"alt","movie poster"),m(a,"class","col-start-1 col-end-2 "),m(F,"class","text-lg xl:text-4xl text-skin-inverted"),m(_,"class","w-full xl:text-4xl"),m(K,"class","hidden xl:px-2 xl:inline"),m(H,"class","pl-0"),m(T,"class","xl:flex"),m(u,"class","mt-6 xl:mt-0 w-full mb-6 flex flex-wrap"),m(C,"class","mb-5 w-full h-16 flex items-center justify-start"),m(U,"class","text-lg italic opacity-70"),m(Y,"class","my-2 w-full font-semibold"),m(z,"class","overview-details"),m(M,"class","w-full"),m(s,"class","xl:col-start-2 xl:col-end-5 flex flex-wrap content-start xl:pl-10"),m(l,"class","grid max-w-7xl xl:grid-cols-4 px-10 py-8 mx-auto xl:rounded-2xl"),m(t,"class","bg-gradient-to-r xl:rounded-2xl"),xe(t,"background-image","linear-gradient(to right, rgb(5, 69, 112) 150px, rgba(37, 137, 204, 0.84) 100%)"),m(e,"id","media"),m(e,"class","text-skin-inverted xl:mt-5 bg-no-repeat bg-right-top bg-contain xl:bg-cover xl:rounded-2xl"),xe(e,"background-image","url("+Ie+"original/"+r[0].backdrop_path+")")},m(i,p){P(i,e,p),f(e,t),f(t,l),f(l,a),f(a,n),f(l,c),f(l,s),f(s,u),f(u,_),f(_,G),f(_,De),f(_,F),f(F,ce),f(u,je),f(u,T),f(T,H),f(H,fe),f(H,Ne),f(H,K),f(K,Se),f(T,Ve),f(T,L);for(let x=0;x<y.length;x+=1)y[x].m(L,null);f(T,Pe),I&&I.m(T,null),f(s,$e),f(s,C),b&&b.m(C,null),f(C,ue),O.m(C,null),f(s,Te),f(s,M),f(M,U),f(U,_e),f(M,Ae),f(M,Y),f(Y,Oe),f(M,Ce),f(M,z),f(z,de),P(i,me,p),le(J,i,p),P(i,ve,p),k&&k.m(i,p),P(i,Q,p),A=!0},p(i,p){if((!A||p&1&&!Re(n.src,o=i[0].poster_path?Ie+"w500"+i[0].poster_path:"/default.jpg"))&&m(n,"src",o),(!A||p&1)&&w!==(w=i[0].title+"")&&B(G,w),(!A||p&1)&&se!==(se=(i[0].release_date?i[0].release_date.substring(0,4):"")+"")&&B(ce,se),(!A||p&1)&&re!==(re=(i[0].release_date?i[0].release_date:"No Date Available")+"")&&B(fe,re),p&17){R=i[0].genres;let E;for(E=0;E<R.length;E+=1){const oe=Xe(i,R,E);y[E]?y[E].p(oe,p):(y[E]=et(oe),y[E].c(),y[E].m(L,null))}for(;E<y.length;E+=1)y[E].d(1);y.length=R.length}"runtime"in i[0]?I?I.p(i,p):(I=tt(i),I.c(),I.m(T,null)):I&&(I.d(1),I=null),i[0].vote_average?b?(b.p(i,p),p&1&&D(b,1)):(b=lt(i),b.c(),D(b,1),b.m(C,ue)):b&&(we(),$(b,1,1,()=>{b=null}),Ee()),he===(he=Je(i))&&O?O.p(i,p):(O.d(1),O=he(i),O&&(O.c(),O.m(C,null))),(!A||p&1)&&ie!==(ie=i[0].tagline+"")&&B(_e,ie),(!A||p&1)&&ne!==(ne=i[0].overview+"")&&B(de,ne),(!A||p&1)&&xe(e,"background-image","url("+Ie+"original/"+i[0].backdrop_path+")");const x={};p&4&&(x.cast=i[2]),J.$set(x),i[1]!==999?k?(k.p(i,p),p&2&&D(k,1)):(k=at(i),k.c(),D(k,1),k.m(Q.parentNode,Q)):k&&(we(),$(k,1,1,()=>{k=null}),Ee())},i(i){A||(D(b),D(J.$$.fragment,i),D(k),A=!0)},o(i){$(b),$(J.$$.fragment,i),$(k),A=!1},d(i){i&&d(e),rt(y,i),I&&I.d(),b&&b.d(),O.d(),i&&d(me),ae(J,i),i&&d(ve),k&&k.d(i),i&&d(Q)}}}function Ze(r){let e,t;return{c(){e=v("span"),t=j("|"),this.h()},l(l){e=h(l,"SPAN",{class:!0});var a=g(e);t=N(a,"|"),a.forEach(d),this.h()},h(){m(e,"class","mx-2")},m(l,a){P(l,e,a),f(e,t)},d(l){l&&d(e)}}}function et(r){let e,t=r[8]+"",l,a,n,o,c=r[10]!==r[0].genres.length-1&&Ze();return{c(){e=v("a"),l=j(t),n=S(),c&&c.c(),o=q(),this.h()},l(s){e=h(s,"A",{class:!0,href:!0});var u=g(e);l=N(u,t),u.forEach(d),n=V(s),c&&c.l(s),o=q(),this.h()},h(){m(e,"class","hover:text-skin-selected"),m(e,"href",a="/genre/"+r[4]+"/"+r[7])},m(s,u){P(s,e,u),f(e,l),P(s,n,u),c&&c.m(s,u),P(s,o,u)},p(s,u){u&1&&t!==(t=s[8]+"")&&B(l,t),u&17&&a!==(a="/genre/"+s[4]+"/"+s[7])&&m(e,"href",a),s[10]!==s[0].genres.length-1?c||(c=Ze(),c.c(),c.m(o.parentNode,o)):c&&(c.d(1),c=null)},d(s){s&&d(e),s&&d(n),c&&c.d(s),s&&d(o)}}}function tt(r){let e,t,l,a=(r[0].runtime-r[0].runtime%60)/60+"",n,o,c=r[0].runtime%60+"",s,u;return{c(){e=v("div"),t=v("span"),l=j("\u2022"),n=j(a),o=j("h "),s=j(c),u=j("m"),this.h()},l(_){e=h(_,"DIV",{class:!0});var w=g(e);t=h(w,"SPAN",{class:!0});var G=g(t);l=N(G,"\u2022"),G.forEach(d),n=N(w,a),o=N(w,"h "),s=N(w,c),u=N(w,"m"),w.forEach(d),this.h()},h(){m(t,"class","hidden xl:px-2 xl:inline"),m(e,"class","duration")},m(_,w){P(_,e,w),f(e,t),f(t,l),f(e,n),f(e,o),f(e,s),f(e,u)},p(_,w){w&1&&a!==(a=(_[0].runtime-_[0].runtime%60)/60+"")&&B(n,a),w&1&&c!==(c=_[0].runtime%60+"")&&B(s,c)},d(_){_&&d(e)}}}function lt(r){let e,t,l;return t=new ot({props:{progress:r[0].vote_average}}),{c(){e=v("div"),ee(t.$$.fragment),this.h()},l(a){e=h(a,"DIV",{class:!0});var n=g(e);te(t.$$.fragment,n),n.forEach(d),this.h()},h(){m(e,"class","bg-transparent inline-flex align-center justify-center transform -translate-x-5 scale-60")},m(a,n){P(a,e,n),le(t,e,null),l=!0},p(a,n){const o={};n&1&&(o.progress=a[0].vote_average),t.$set(o)},i(a){l||(D(t.$$.fragment,a),l=!0)},o(a){$(t.$$.fragment,a),l=!1},d(a){a&&d(e),ae(t)}}}function dt(r){let e,t,l;return{c(){e=v("div"),t=v("p"),l=j("No Trailer Available"),this.h()},l(a){e=h(a,"DIV",{class:!0});var n=g(e);t=h(n,"P",{class:!0});var o=g(t);l=N(o,"No Trailer Available"),o.forEach(d),n.forEach(d),this.h()},h(){m(t,"class","flex justify-center ml-4"),m(e,"class","flex pl-5")},m(a,n){P(a,e,n),f(e,t),f(t,l)},p:ye,d(a){a&&d(e)}}}function mt(r){let e,t,l,a,n,o,c;return{c(){e=v("div"),t=v("i"),l=S(),a=v("p"),n=j("Play Trailer"),this.h()},l(s){e=h(s,"DIV",{class:!0});var u=g(e);t=h(u,"I",{class:!0,"aria-hidden":!0}),g(t).forEach(d),l=V(u),a=h(u,"P",{class:!0});var _=g(a);n=N(_,"Play Trailer"),_.forEach(d),u.forEach(d),this.h()},h(){m(t,"class","flex items-center fa fa-play fa-2x"),m(t,"aria-hidden","true"),m(a,"class","flex justify-center ml-4 text-2xl items-center"),m(e,"class","transform -translate-x-10 flex pl-5 cursor-pointer hover:opacity-80")},m(s,u){P(s,e,u),f(e,t),f(e,l),f(e,a),f(a,n),o||(c=it(e,"click",r[5]),o=!0)},p:ye,d(s){s&&d(e),o=!1,c()}}}function at(r){let e,t,l={trailer_id:r[1]};return e=new ft({props:l}),r[6](e),{c(){ee(e.$$.fragment)},l(a){te(e.$$.fragment,a)},m(a,n){le(e,a,n),t=!0},p(a,n){const o={};n&2&&(o.trailer_id=a[1]),e.$set(o)},i(a){t||(D(e.$$.fragment,a),t=!0)},o(a){$(e.$$.fragment,a),t=!1},d(a){r[6](null),ae(e,a)}}}function vt(r){let e,t,l,a;const n=[_t,ut],o=[];function c(s,u){return s[0].id&&s[1]?0:1}return e=c(r),t=o[e]=n[e](r),{c(){t.c(),l=q()},l(s){t.l(s),l=q()},m(s,u){o[e].m(s,u),P(s,l,u),a=!0},p(s,[u]){let _=e;e=c(s),e===_?o[e].p(s,u):(we(),$(o[_],1,1,()=>{o[_]=null}),Ee(),t=o[e],t?t.p(s,u):(t=o[e]=n[e](s),t.c()),D(t,1),t.m(l.parentNode,l))},i(s){a||(D(t),a=!0)},o(s){$(t),a=!1},d(s){o[e].d(s),s&&d(l)}}}const Ie="https://image.tmdb.org/t/p/";function ht(r,e,t){let l;Qe(r,He,_=>t(4,l=_));let{movie_details:a}=e,{trailer_id:n}=e,{cast:o}=e,c;window.scrollTo({top:-1e3,behavior:"smooth"});const s=()=>c.show();function u(_){st[_?"unshift":"push"](()=>{c=_,t(3,c)})}return r.$$set=_=>{"movie_details"in _&&t(0,a=_.movie_details),"trailer_id"in _&&t(1,n=_.trailer_id),"cast"in _&&t(2,o=_.cast)},[a,n,o,c,l,s,u]}class pt extends Ue{constructor(e){super();Ye(this,e,ht,vt,ze,{movie_details:0,trailer_id:1,cast:2})}}function gt(r){let e,t;return e=new We({}),{c(){ee(e.$$.fragment)},l(l){te(e.$$.fragment,l)},m(l,a){le(e,l,a),t=!0},p:ye,i(l){t||(D(e.$$.fragment,l),t=!0)},o(l){$(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function bt(r){let e,t;return e=new pt({props:{movie_details:r[0],trailer_id:r[1],cast:r[2]}}),{c(){ee(e.$$.fragment)},l(l){te(e.$$.fragment,l)},m(l,a){le(e,l,a),t=!0},p(l,a){const n={};a&1&&(n.movie_details=l[0]),a&2&&(n.trailer_id=l[1]),a&4&&(n.cast=l[2]),e.$set(n)},i(l){t||(D(e.$$.fragment,l),t=!0)},o(l){$(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function kt(r){let e,t,l,a;const n=[bt,gt],o=[];function c(s,u){return s[0]&&s[1]?0:1}return e=c(r),t=o[e]=n[e](r),{c(){t.c(),l=q()},l(s){t.l(s),l=q()},m(s,u){o[e].m(s,u),P(s,l,u),a=!0},p(s,[u]){let _=e;e=c(s),e===_?o[e].p(s,u):(we(),$(o[_],1,1,()=>{o[_]=null}),Ee(),t=o[e],t?t.p(s,u):(t=o[e]=n[e](s),t.c()),D(t,1),t.m(l.parentNode,l))},i(s){a||(D(t),a=!0)},o(s){$(t),a=!1},d(s){o[e].d(s),s&&d(l)}}}const jt=async({page:r,fetch:e})=>{const a=await(await(await e("../api/getMovie",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({media:"movie",id:r.params.id})})).json()).res,o=await(await e("../api/getTrailer",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({media:"movie",id:r.params.id})})).json(),c=await o.res.results.length?o.res.results[0].key:999,_=await(await(await e("../../api/getCast",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({media:"movie",id:r.params.id})})).json()).res.cast;return{props:{movie_details:a,trailer_id:c,cast:_}}};function wt(r,e,t){let l;Qe(r,He,c=>t(3,l=c));let{movie_details:a}=e,{trailer_id:n}=e,{cast:o}=e;return nt(He,l="movie",l),r.$$set=c=>{"movie_details"in c&&t(0,a=c.movie_details),"trailer_id"in c&&t(1,n=c.trailer_id),"cast"in c&&t(2,o=c.cast)},[a,n,o]}class Nt extends Ue{constructor(e){super();Ye(this,e,wt,kt,ze,{movie_details:0,trailer_id:1,cast:2})}}export{Nt as default,jt as load};
