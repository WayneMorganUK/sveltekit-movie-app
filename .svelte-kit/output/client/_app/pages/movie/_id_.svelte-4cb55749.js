import{S as Xe,i as ze,s as Fe,l as te,g as P,n as Ke,o as q,p as Le,q as C,d as _,J as Me,P as Qe,_ as ot,w as re,x as ne,y as oe,I as Re,B as ce,e as h,c as p,a as b,b as u,t as j,k as V,h as N,m as S,G as c,j as X,X as ke,f as Oe,O as We,H as ct,a0 as ft,M as dt}from"../../chunks/vendor-b506428e.js";import{v as Ye,b as Ze,a as xe}from"../../chunks/store-5c7cf519.js";import{P as _t}from"../../chunks/ProgressBar-0e64a379.js";import{S as ut,C as mt,M as vt,t as ht}from"../../chunks/tooltip-d6a5d940.js";function et(s,e,l){const t=s.slice();return t[10]=e[l],t}function tt(s,e,l){const t=s.slice();return t[13]=e[l].id,t[14]=e[l].name,t[16]=l,t}function pt(s){let e,l;return e=new ut({}),{c(){re(e.$$.fragment)},l(t){ne(e.$$.fragment,t)},m(t,a){oe(e,t,a),l=!0},p:Re,i(t){l||(C(e.$$.fragment,t),l=!0)},o(t){q(e.$$.fragment,t),l=!1},d(t){ce(e,t)}}}function gt(s){let e,l,t,a,r,i,d,n,f,m,v=s[0].title+"",E,g,H,le=(s[0].release_date?s[0].release_date.substring(0,4):"")+"",fe,Ee,de,A,$,ae=(s[0].release_date?s[0].release_date:"No Date Available")+"",_e,ye,F,Ie,De,K,je,Ve,z,Ne,O,L,se=s[0].tagline+"",ue,Se,Q,Pe,Ae,R,ie=s[0].overview+"",me,ve,U,he,B,T,w=s[0].vote_average&&lt(s),W=s[0].genres,y=[];for(let o=0;o<W.length;o+=1)y[o]=st(tt(s,W,o));let I="runtime"in s[0]&&it(s);function Ce(o,k){return o[1].length>0?kt:bt}let pe=Ce(s),M=pe(s);U=new mt({props:{cast:s[2]}});let nt={};return B=new vt({props:nt}),s[7](B),{c(){e=h("section"),l=h("div"),t=h("div"),a=h("div"),r=h("img"),d=V(),n=h("div"),f=h("div"),m=h("h4"),E=j(v),g=V(),H=h("span"),fe=j(le),Ee=V(),w&&w.c(),de=V(),A=h("div"),$=h("div"),_e=j(ae),ye=V(),F=h("span"),Ie=j("\u2022"),De=V(),K=h("div");for(let o=0;o<y.length;o+=1)y[o].c();je=V(),I&&I.c(),Ve=V(),z=h("div"),M.c(),Ne=V(),O=h("div"),L=h("div"),ue=j(se),Se=V(),Q=h("h4"),Pe=j("Overview"),Ae=V(),R=h("div"),me=j(ie),ve=V(),re(U.$$.fragment),he=V(),re(B.$$.fragment),this.h()},l(o){e=p(o,"SECTION",{id:!0,class:!0,style:!0});var k=b(e);l=p(k,"DIV",{class:!0,style:!0});var G=b(l);t=p(G,"DIV",{class:!0});var Y=b(t);a=p(Y,"DIV",{class:!0});var D=b(a);r=p(D,"IMG",{class:!0,src:!0,alt:!0}),D.forEach(_),d=S(Y),n=p(Y,"DIV",{class:!0});var J=b(n);f=p(J,"DIV",{class:!0});var Z=b(f);m=p(Z,"H4",{class:!0});var ge=b(m);E=N(ge,v),g=S(ge),H=p(ge,"SPAN",{class:!0});var Be=b(H);fe=N(Be,le),Be.forEach(_),ge.forEach(_),Ee=S(Z),w&&w.l(Z),de=S(Z),A=p(Z,"DIV",{class:!0});var x=b(A);$=p(x,"DIV",{class:!0});var be=b($);_e=N(be,ae),ye=S(be),F=p(be,"SPAN",{class:!0});var Ge=b(F);Ie=N(Ge,"\u2022"),Ge.forEach(_),be.forEach(_),De=S(x),K=p(x,"DIV",{});var Je=b(K);for(let Te=0;Te<y.length;Te+=1)y[Te].l(Je);Je.forEach(_),je=S(x),I&&I.l(x),x.forEach(_),Z.forEach(_),Ve=S(J),z=p(J,"DIV",{class:!0});var qe=b(z);M.l(qe),qe.forEach(_),Ne=S(J),O=p(J,"DIV",{class:!0});var ee=b(O);L=p(ee,"DIV",{class:!0});var He=b(L);ue=N(He,se),He.forEach(_),Se=S(ee),Q=p(ee,"H4",{class:!0});var $e=b(Q);Pe=N($e,"Overview"),$e.forEach(_),Ae=S(ee),R=p(ee,"DIV",{class:!0});var Ue=b(R);me=N(Ue,ie),Ue.forEach(_),ee.forEach(_),J.forEach(_),Y.forEach(_),G.forEach(_),k.forEach(_),ve=S(o),ne(U.$$.fragment,o),he=S(o),ne(B.$$.fragment,o),this.h()},h(){u(r,"class","h-96 w-64 md:h-120 md:w-80 overflow-hidden rounded-2xl mx-auto"),ke(r.src,i=s[0].poster_path?we+"w500"+s[0].poster_path:"/default.jpg")||u(r,"src",i),u(r,"alt","movie poster"),u(a,"class","col-start-1 col-end-2 "),u(H,"class","ml-1 text-lg md:text-4xl text-skin-inverted"),u(m,"class","md:flex w-full md:text-4xl"),u(F,"class","hidden md:px-2 md:inline"),u($,"class","pl-0"),u(A,"class","md:flex"),u(f,"class","mt-6 md:mt-0 w-full flex flex-wrap"),u(z,"class","mb-1 w-full flex flex-wrap justify-center md:justify-start md:flex-nowrap md:overflow-y-hidden relative"),u(L,"class","text-lg italic opacity-70"),u(Q,"class","my-2 w-full font-semibold"),u(R,"class","overview-details"),u(O,"class","w-full"),u(n,"class","md:col-start-2 md:col-end-5 flex flex-wrap content-start md:pl-10"),u(t,"class","grid max-w-7xl md:grid-cols-[20rem_minmax(0,_1fr)_minmax(0,_1fr)_minmax(0,_1fr)] px-10 py-8 mx-auto md:rounded-2xl"),u(l,"class","bg-gradient-to-r md:rounded-2xl"),Oe(l,"background-image","linear-gradient(to right, rgb(5, 69, 112) 150px, rgba(37, 137, 204, 0.84) 100%)"),u(e,"id","media"),u(e,"class","text-skin-inverted xl:mt-5 bg-no-repeat bg-right-top bg-contain md:bg-cover md:rounded-2xl"),Oe(e,"background-image","url("+we+"original/"+s[0].backdrop_path+")")},m(o,k){P(o,e,k),c(e,l),c(l,t),c(t,a),c(a,r),c(t,d),c(t,n),c(n,f),c(f,m),c(m,E),c(m,g),c(m,H),c(H,fe),c(f,Ee),w&&w.m(f,null),c(f,de),c(f,A),c(A,$),c($,_e),c($,ye),c($,F),c(F,Ie),c(A,De),c(A,K);for(let G=0;G<y.length;G+=1)y[G].m(K,null);c(A,je),I&&I.m(A,null),c(n,Ve),c(n,z),M.m(z,null),c(n,Ne),c(n,O),c(O,L),c(L,ue),c(O,Se),c(O,Q),c(Q,Pe),c(O,Ae),c(O,R),c(R,me),P(o,ve,k),oe(U,o,k),P(o,he,k),oe(B,o,k),T=!0},p(o,k){if((!T||k&1&&!ke(r.src,i=o[0].poster_path?we+"w500"+o[0].poster_path:"/default.jpg"))&&u(r,"src",i),(!T||k&1)&&v!==(v=o[0].title+"")&&X(E,v),(!T||k&1)&&le!==(le=(o[0].release_date?o[0].release_date.substring(0,4):"")+"")&&X(fe,le),o[0].vote_average?w?(w.p(o,k),k&1&&C(w,1)):(w=lt(o),w.c(),C(w,1),w.m(f,de)):w&&(Ke(),q(w,1,1,()=>{w=null}),Le()),(!T||k&1)&&ae!==(ae=(o[0].release_date?o[0].release_date:"No Date Available")+"")&&X(_e,ae),k&17){W=o[0].genres;let D;for(D=0;D<W.length;D+=1){const J=tt(o,W,D);y[D]?y[D].p(J,k):(y[D]=st(J),y[D].c(),y[D].m(K,null))}for(;D<y.length;D+=1)y[D].d(1);y.length=W.length}"runtime"in o[0]?I?I.p(o,k):(I=it(o),I.c(),I.m(A,null)):I&&(I.d(1),I=null),pe===(pe=Ce(o))&&M?M.p(o,k):(M.d(1),M=pe(o),M&&(M.c(),M.m(z,null))),(!T||k&1)&&se!==(se=o[0].tagline+"")&&X(ue,se),(!T||k&1)&&ie!==(ie=o[0].overview+"")&&X(me,ie),(!T||k&1)&&Oe(e,"background-image","url("+we+"original/"+o[0].backdrop_path+")");const G={};k&4&&(G.cast=o[2]),U.$set(G);const Y={};B.$set(Y)},i(o){T||(C(w),C(U.$$.fragment,o),C(B.$$.fragment,o),T=!0)},o(o){q(w),q(U.$$.fragment,o),q(B.$$.fragment,o),T=!1},d(o){o&&_(e),w&&w.d(),We(y,o),I&&I.d(),M.d(),o&&_(ve),ce(U,o),o&&_(he),s[7](null),ce(B,o)}}}function lt(s){let e,l,t;return l=new _t({props:{progress:s[0].vote_average}}),{c(){e=h("div"),re(l.$$.fragment),this.h()},l(a){e=p(a,"DIV",{class:!0});var r=b(e);ne(l.$$.fragment,r),r.forEach(_),this.h()},h(){u(e,"class","bg-transparent inline-flex align-center justify-center transform -translate-x-5 scale-60")},m(a,r){P(a,e,r),oe(l,e,null),t=!0},p(a,r){const i={};r&1&&(i.progress=a[0].vote_average),l.$set(i)},i(a){t||(C(l.$$.fragment,a),t=!0)},o(a){q(l.$$.fragment,a),t=!1},d(a){a&&_(e),ce(l)}}}function at(s){let e,l;return{c(){e=h("span"),l=j("|"),this.h()},l(t){e=p(t,"SPAN",{class:!0});var a=b(e);l=N(a,"|"),a.forEach(_),this.h()},h(){u(e,"class","mx-2")},m(t,a){P(t,e,a),c(e,l)},d(t){t&&_(e)}}}function st(s){let e,l=s[14]+"",t,a,r,i,d=s[16]!==s[0].genres.length-1&&at();return{c(){e=h("a"),t=j(l),r=V(),d&&d.c(),i=te(),this.h()},l(n){e=p(n,"A",{class:!0,href:!0});var f=b(e);t=N(f,l),f.forEach(_),r=S(n),d&&d.l(n),i=te(),this.h()},h(){u(e,"class","hover:text-skin-selected"),u(e,"href",a="/genre/"+s[4]+"/"+s[13])},m(n,f){P(n,e,f),c(e,t),P(n,r,f),d&&d.m(n,f),P(n,i,f)},p(n,f){f&1&&l!==(l=n[14]+"")&&X(t,l),f&17&&a!==(a="/genre/"+n[4]+"/"+n[13])&&u(e,"href",a),n[16]!==n[0].genres.length-1?d||(d=at(),d.c(),d.m(i.parentNode,i)):d&&(d.d(1),d=null)},d(n){n&&_(e),n&&_(r),d&&d.d(n),n&&_(i)}}}function it(s){let e,l,t,a=(s[0].runtime-s[0].runtime%60)/60+"",r,i,d=s[0].runtime%60+"",n,f;return{c(){e=h("div"),l=h("span"),t=j("\u2022"),r=j(a),i=j("h "),n=j(d),f=j("m"),this.h()},l(m){e=p(m,"DIV",{class:!0});var v=b(e);l=p(v,"SPAN",{class:!0});var E=b(l);t=N(E,"\u2022"),E.forEach(_),r=N(v,a),i=N(v,"h "),n=N(v,d),f=N(v,"m"),v.forEach(_),this.h()},h(){u(l,"class","hidden md:px-2 md:inline"),u(e,"class","duration")},m(m,v){P(m,e,v),c(e,l),c(l,t),c(e,r),c(e,i),c(e,n),c(e,f)},p(m,v){v&1&&a!==(a=(m[0].runtime-m[0].runtime%60)/60+"")&&X(r,a),v&1&&d!==(d=m[0].runtime%60+"")&&X(n,d)},d(m){m&&_(e)}}}function bt(s){let e,l,t;return{c(){e=h("div"),l=h("p"),t=j("No Trailer Available"),this.h()},l(a){e=p(a,"DIV",{class:!0});var r=b(e);l=p(r,"P",{class:!0});var i=b(l);t=N(i,"No Trailer Available"),i.forEach(_),r.forEach(_),this.h()},h(){u(l,"class","flex justify-center ml-4"),u(e,"class","flex pl-5")},m(a,r){P(a,e,r),c(e,l),c(l,t)},p:Re,d(a){a&&_(e)}}}function kt(s){let e,l=s[1],t=[];for(let a=0;a<l.length;a+=1)t[a]=rt(et(s,l,a));return{c(){for(let a=0;a<t.length;a+=1)t[a].c();e=te()},l(a){for(let r=0;r<t.length;r+=1)t[r].l(a);e=te()},m(a,r){for(let i=0;i<t.length;i+=1)t[i].m(a,r);P(a,e,r)},p(a,r){if(r&34){l=a[1];let i;for(i=0;i<l.length;i+=1){const d=et(a,l,i);t[i]?t[i].p(d,r):(t[i]=rt(d),t[i].c(),t[i].m(e.parentNode,e))}for(;i<t.length;i+=1)t[i].d(1);t.length=l.length}},d(a){We(t,a),a&&_(e)}}}function rt(s){let e,l,t,a,r,i,d,n,f;function m(){return s[6](s[10])}return{c(){e=h("div"),l=h("img"),r=V(),this.h()},l(v){e=p(v,"DIV",{class:!0,title:!0});var E=b(e);l=p(E,"IMG",{src:!0,alt:!0}),r=S(E),E.forEach(_),this.h()},h(){ke(l.src,t=`https://img.youtube.com/vi/${s[10].key}/0.jpg`)||u(l,"src",t),u(l,"alt",a=s[10].name),u(e,"class","w-56 flex-shrink-0 pl-2 cursor-pointer hover:opacity-80"),u(e,"title",i=s[10].name)},m(v,E){P(v,e,E),c(e,l),c(e,r),n||(f=[ct(e,"click",m),ft(d=ht.call(null,e))],n=!0)},p(v,E){s=v,E&2&&!ke(l.src,t=`https://img.youtube.com/vi/${s[10].key}/0.jpg`)&&u(l,"src",t),E&2&&a!==(a=s[10].name)&&u(l,"alt",a),E&2&&i!==(i=s[10].name)&&u(e,"title",i)},d(v){v&&_(e),n=!1,dt(f)}}}function wt(s){let e,l,t,a;const r=[gt,pt],i=[];function d(n,f){return n[0].id&&n[1]?0:1}return e=d(s),l=i[e]=r[e](s),{c(){l.c(),t=te()},l(n){l.l(n),t=te()},m(n,f){i[e].m(n,f),P(n,t,f),a=!0},p(n,[f]){let m=e;e=d(n),e===m?i[e].p(n,f):(Ke(),q(i[m],1,1,()=>{i[m]=null}),Le(),l=i[e],l?l.p(n,f):(l=i[e]=r[e](n),l.c()),C(l,1),l.m(t.parentNode,t))},i(n){a||(C(l),a=!0)},o(n){q(l),a=!1},d(n){i[e].d(n),n&&_(t)}}}const we="https://image.tmdb.org/t/p/";function Et(s,e,l){let t,a,r;Me(s,Ye,g=>l(8,t=g)),Me(s,Ze,g=>l(9,a=g)),Me(s,xe,g=>l(4,r=g));let{movie_details:i}=e,{trailer_details:d}=e,{cast:n}=e,f;function m(g,H){console.log("function trailer id",g),Qe(Ze,a=g,a),Qe(Ye,t=H,t),f.show()}window.scrollTo({top:-1e3,behavior:"smooth"});const v=g=>m(g.key,g.site);function E(g){ot[g?"unshift":"push"](()=>{f=g,l(3,f)})}return s.$$set=g=>{"movie_details"in g&&l(0,i=g.movie_details),"trailer_details"in g&&l(1,d=g.trailer_details),"cast"in g&&l(2,n=g.cast)},[i,d,n,f,r,m,v,E]}class yt extends Xe{constructor(e){super();ze(this,e,Et,wt,Fe,{movie_details:0,trailer_details:1,cast:2})}}function It(s){let e,l;return e=new yt({props:{movie_details:s[0],trailer_details:s[1],cast:s[2]}}),{c(){re(e.$$.fragment)},l(t){ne(e.$$.fragment,t)},m(t,a){oe(e,t,a),l=!0},p(t,[a]){const r={};a&1&&(r.movie_details=t[0]),a&2&&(r.trailer_details=t[1]),a&4&&(r.cast=t[2]),e.$set(r)},i(t){l||(C(e.$$.fragment,t),l=!0)},o(t){q(e.$$.fragment,t),l=!1},d(t){ce(e,t)}}}async function Pt({fetch:s,params:e}){xe.set("movie");const t=await(await(await s("../api/getMovie",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({media:"movie",id:e.id})})).json()).res,r=(await(await s("../api/getTrailer",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({media:"movie",id:e.id})})).json()).res.results,d=await(await(await s("../../api/postData",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({api_ref:"cast",id:e.id,media:"movie"})})).json()).res.cast;return{props:{movie_details:t,trailer_details:r,cast:d}}}function Dt(s,e,l){let{movie_details:t}=e,{trailer_details:a}=e,{cast:r}=e;return s.$$set=i=>{"movie_details"in i&&l(0,t=i.movie_details),"trailer_details"in i&&l(1,a=i.trailer_details),"cast"in i&&l(2,r=i.cast)},[t,a,r]}class At extends Xe{constructor(e){super();ze(this,e,Dt,It,Fe,{movie_details:0,trailer_details:1,cast:2})}}export{At as default,Pt as load};
