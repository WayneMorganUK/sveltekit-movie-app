import{S as Re,i as Ue,s as Ze,l as te,g as S,n as ze,o as q,p as Fe,q as M,d as _,J as Ce,R as Ke,a0 as ot,w as re,x as ne,y as oe,I as Le,B as ce,e as h,c as p,a as b,b as u,t as j,k as D,h as V,m as N,G as c,j as R,Z as ke,f as Me,Q as We,H as ct}from"../../chunks/vendor-035761c6.js";import{v as Xe,b as Ye,a as xe}from"../../chunks/store-70017b87.js";import{P as dt}from"../../chunks/ProgressBar-6e1a97c1.js";import{S as ft,C as _t,M as ut}from"../../chunks/Cast-a5d8f710.js";function et(a,e,l){const t=a.slice();return t[10]=e[l],t}function tt(a,e,l){const t=a.slice();return t[13]=e[l].id,t[14]=e[l].name,t[16]=l,t}function mt(a){let e,l;return e=new ft({}),{c(){re(e.$$.fragment)},l(t){ne(e.$$.fragment,t)},m(t,s){oe(e,t,s),l=!0},p:Le,i(t){l||(M(e.$$.fragment,t),l=!0)},o(t){q(e.$$.fragment,t),l=!1},d(t){ce(e,t)}}}function vt(a){let e,l,t,s,r,i,f,n,d,m,v=a[0].title+"",O,g,H,le=(a[0].release_date?a[0].release_date.substring(0,4):"")+"",de,Ee,fe,P,$,se=(a[0].release_date?a[0].release_date:"No Date Available")+"",_e,ye,Z,Ie,je,z,De,Ve,U,Ne,C,F,ae=a[0].tagline+"",ue,Se,K,Pe,Ae,L,ie=a[0].overview+"",me,ve,Q,he,B,A,w=a[0].vote_average&&lt(a),W=a[0].genres,E=[];for(let o=0;o<W.length;o+=1)E[o]=at(tt(a,W,o));let y="runtime"in a[0]&&it(a);function Oe(o,k){return o[1].length>0?pt:ht}let pe=Oe(a),T=pe(a);Q=new _t({props:{cast_details:a[2]}});let nt={};return B=new ut({props:nt}),a[7](B),{c(){e=h("section"),l=h("div"),t=h("div"),s=h("div"),r=h("img"),f=D(),n=h("div"),d=h("div"),m=h("h4"),O=j(v),g=D(),H=h("span"),de=j(le),Ee=D(),w&&w.c(),fe=D(),P=h("div"),$=h("div"),_e=j(se),ye=D(),Z=h("span"),Ie=j("\u2022"),je=D(),z=h("div");for(let o=0;o<E.length;o+=1)E[o].c();De=D(),y&&y.c(),Ve=D(),U=h("div"),T.c(),Ne=D(),C=h("div"),F=h("div"),ue=j(ae),Se=D(),K=h("h4"),Pe=j("Overview"),Ae=D(),L=h("div"),me=j(ie),ve=D(),re(Q.$$.fragment),he=D(),re(B.$$.fragment),this.h()},l(o){e=p(o,"SECTION",{id:!0,class:!0,style:!0});var k=b(e);l=p(k,"DIV",{class:!0,style:!0});var G=b(l);t=p(G,"DIV",{class:!0});var X=b(t);s=p(X,"DIV",{class:!0});var I=b(s);r=p(I,"IMG",{class:!0,src:!0,alt:!0}),I.forEach(_),f=N(X),n=p(X,"DIV",{class:!0});var J=b(n);d=p(J,"DIV",{class:!0});var Y=b(d);m=p(Y,"H4",{class:!0});var ge=b(m);O=V(ge,v),g=N(ge),H=p(ge,"SPAN",{class:!0});var Be=b(H);de=V(Be,le),Be.forEach(_),ge.forEach(_),Ee=N(Y),w&&w.l(Y),fe=N(Y),P=p(Y,"DIV",{class:!0});var x=b(P);$=p(x,"DIV",{class:!0});var be=b($);_e=V(be,se),ye=N(be),Z=p(be,"SPAN",{class:!0});var Ge=b(Z);Ie=V(Ge,"\u2022"),Ge.forEach(_),be.forEach(_),je=N(x),z=p(x,"DIV",{});var Je=b(z);for(let Te=0;Te<E.length;Te+=1)E[Te].l(Je);Je.forEach(_),De=N(x),y&&y.l(x),x.forEach(_),Y.forEach(_),Ve=N(J),U=p(J,"DIV",{class:!0});var qe=b(U);T.l(qe),qe.forEach(_),Ne=N(J),C=p(J,"DIV",{class:!0});var ee=b(C);F=p(ee,"DIV",{class:!0});var He=b(F);ue=V(He,ae),He.forEach(_),Se=N(ee),K=p(ee,"H4",{class:!0});var $e=b(K);Pe=V($e,"Overview"),$e.forEach(_),Ae=N(ee),L=p(ee,"DIV",{class:!0});var Qe=b(L);me=V(Qe,ie),Qe.forEach(_),ee.forEach(_),J.forEach(_),X.forEach(_),G.forEach(_),k.forEach(_),ve=N(o),ne(Q.$$.fragment,o),he=N(o),ne(B.$$.fragment,o),this.h()},h(){u(r,"class","w-64 mx-auto overflow-hidden h-96 md:h-120 md:w-80 rounded-2xl"),ke(r.src,i=a[0].poster_path?we+"w500"+a[0].poster_path:"/default.jpg")||u(r,"src",i),u(r,"alt","movie poster"),u(s,"class","col-start-1 col-end-2 "),u(H,"class","ml-1 text-lg md:text-4xl text-skin-inverted"),u(m,"class","w-full md:flex md:text-4xl"),u(Z,"class","hidden md:px-2 md:inline"),u($,"class","pl-0"),u(P,"class","md:flex"),u(d,"class","flex flex-wrap w-full mt-6 md:mt-0"),u(U,"class","relative flex flex-wrap justify-center w-full mb-1 md:justify-start md:flex-nowrap md:overflow-y-hidden"),u(F,"class","text-lg italic opacity-70"),u(K,"class","w-full my-2 font-semibold"),u(L,"class","overview-details"),u(C,"class","w-full"),u(n,"class","flex flex-wrap content-start md:col-start-2 md:col-end-5 md:pl-10"),u(t,"class","grid max-w-7xl md:grid-cols-[20rem_minmax(0,_1fr)_minmax(0,_1fr)_minmax(0,_1fr)] px-10 py-8 mx-auto md:rounded-2xl"),u(l,"class","bg-gradient-to-r md:rounded-2xl"),Me(l,"background-image","linear-gradient(to right, rgb(5, 69, 112) 150px, rgba(37, 137, 204, 0.84) 100%)"),u(e,"id","media"),u(e,"class","bg-right-top bg-no-repeat bg-contain text-skin-inverted xl:mt-5 md:bg-cover md:rounded-2xl"),Me(e,"background-image","url("+we+"original/"+a[0].backdrop_path+")")},m(o,k){S(o,e,k),c(e,l),c(l,t),c(t,s),c(s,r),c(t,f),c(t,n),c(n,d),c(d,m),c(m,O),c(m,g),c(m,H),c(H,de),c(d,Ee),w&&w.m(d,null),c(d,fe),c(d,P),c(P,$),c($,_e),c($,ye),c($,Z),c(Z,Ie),c(P,je),c(P,z);for(let G=0;G<E.length;G+=1)E[G].m(z,null);c(P,De),y&&y.m(P,null),c(n,Ve),c(n,U),T.m(U,null),c(n,Ne),c(n,C),c(C,F),c(F,ue),c(C,Se),c(C,K),c(K,Pe),c(C,Ae),c(C,L),c(L,me),S(o,ve,k),oe(Q,o,k),S(o,he,k),oe(B,o,k),A=!0},p(o,k){if((!A||k&1&&!ke(r.src,i=o[0].poster_path?we+"w500"+o[0].poster_path:"/default.jpg"))&&u(r,"src",i),(!A||k&1)&&v!==(v=o[0].title+"")&&R(O,v),(!A||k&1)&&le!==(le=(o[0].release_date?o[0].release_date.substring(0,4):"")+"")&&R(de,le),o[0].vote_average?w?(w.p(o,k),k&1&&M(w,1)):(w=lt(o),w.c(),M(w,1),w.m(d,fe)):w&&(ze(),q(w,1,1,()=>{w=null}),Fe()),(!A||k&1)&&se!==(se=(o[0].release_date?o[0].release_date:"No Date Available")+"")&&R(_e,se),k&17){W=o[0].genres;let I;for(I=0;I<W.length;I+=1){const J=tt(o,W,I);E[I]?E[I].p(J,k):(E[I]=at(J),E[I].c(),E[I].m(z,null))}for(;I<E.length;I+=1)E[I].d(1);E.length=W.length}"runtime"in o[0]?y?y.p(o,k):(y=it(o),y.c(),y.m(P,null)):y&&(y.d(1),y=null),pe===(pe=Oe(o))&&T?T.p(o,k):(T.d(1),T=pe(o),T&&(T.c(),T.m(U,null))),(!A||k&1)&&ae!==(ae=o[0].tagline+"")&&R(ue,ae),(!A||k&1)&&ie!==(ie=o[0].overview+"")&&R(me,ie),(!A||k&1)&&Me(e,"background-image","url("+we+"original/"+o[0].backdrop_path+")");const G={};k&4&&(G.cast_details=o[2]),Q.$set(G);const X={};B.$set(X)},i(o){A||(M(w),M(Q.$$.fragment,o),M(B.$$.fragment,o),A=!0)},o(o){q(w),q(Q.$$.fragment,o),q(B.$$.fragment,o),A=!1},d(o){o&&_(e),w&&w.d(),We(E,o),y&&y.d(),T.d(),o&&_(ve),ce(Q,o),o&&_(he),a[7](null),ce(B,o)}}}function lt(a){let e,l,t;return l=new dt({props:{progress:a[0].vote_average}}),{c(){e=h("div"),re(l.$$.fragment),this.h()},l(s){e=p(s,"DIV",{class:!0});var r=b(e);ne(l.$$.fragment,r),r.forEach(_),this.h()},h(){u(e,"class","inline-flex justify-center transform -translate-x-5 bg-transparent align-center scale-60")},m(s,r){S(s,e,r),oe(l,e,null),t=!0},p(s,r){const i={};r&1&&(i.progress=s[0].vote_average),l.$set(i)},i(s){t||(M(l.$$.fragment,s),t=!0)},o(s){q(l.$$.fragment,s),t=!1},d(s){s&&_(e),ce(l)}}}function st(a){let e,l;return{c(){e=h("span"),l=j("|"),this.h()},l(t){e=p(t,"SPAN",{class:!0});var s=b(e);l=V(s,"|"),s.forEach(_),this.h()},h(){u(e,"class","mx-2")},m(t,s){S(t,e,s),c(e,l)},d(t){t&&_(e)}}}function at(a){let e,l=a[14]+"",t,s,r,i,f=a[16]!==a[0].genres.length-1&&st();return{c(){e=h("a"),t=j(l),r=D(),f&&f.c(),i=te(),this.h()},l(n){e=p(n,"A",{class:!0,href:!0});var d=b(e);t=V(d,l),d.forEach(_),r=N(n),f&&f.l(n),i=te(),this.h()},h(){u(e,"class","hover:text-skin-selected"),u(e,"href",s="/genre/"+a[4]+"/"+a[13])},m(n,d){S(n,e,d),c(e,t),S(n,r,d),f&&f.m(n,d),S(n,i,d)},p(n,d){d&1&&l!==(l=n[14]+"")&&R(t,l),d&17&&s!==(s="/genre/"+n[4]+"/"+n[13])&&u(e,"href",s),n[16]!==n[0].genres.length-1?f||(f=st(),f.c(),f.m(i.parentNode,i)):f&&(f.d(1),f=null)},d(n){n&&_(e),n&&_(r),f&&f.d(n),n&&_(i)}}}function it(a){let e,l,t,s=(a[0].runtime-a[0].runtime%60)/60+"",r,i,f=a[0].runtime%60+"",n,d;return{c(){e=h("div"),l=h("span"),t=j("\u2022"),r=j(s),i=j("h "),n=j(f),d=j("m"),this.h()},l(m){e=p(m,"DIV",{class:!0});var v=b(e);l=p(v,"SPAN",{class:!0});var O=b(l);t=V(O,"\u2022"),O.forEach(_),r=V(v,s),i=V(v,"h "),n=V(v,f),d=V(v,"m"),v.forEach(_),this.h()},h(){u(l,"class","hidden md:px-2 md:inline"),u(e,"class","duration")},m(m,v){S(m,e,v),c(e,l),c(l,t),c(e,r),c(e,i),c(e,n),c(e,d)},p(m,v){v&1&&s!==(s=(m[0].runtime-m[0].runtime%60)/60+"")&&R(r,s),v&1&&f!==(f=m[0].runtime%60+"")&&R(n,f)},d(m){m&&_(e)}}}function ht(a){let e,l,t;return{c(){e=h("div"),l=h("p"),t=j("No Trailer Available"),this.h()},l(s){e=p(s,"DIV",{class:!0});var r=b(e);l=p(r,"P",{class:!0});var i=b(l);t=V(i,"No Trailer Available"),i.forEach(_),r.forEach(_),this.h()},h(){u(l,"class","flex justify-center ml-4"),u(e,"class","flex pl-5")},m(s,r){S(s,e,r),c(e,l),c(l,t)},p:Le,d(s){s&&_(e)}}}function pt(a){let e,l=a[1],t=[];for(let s=0;s<l.length;s+=1)t[s]=rt(et(a,l,s));return{c(){for(let s=0;s<t.length;s+=1)t[s].c();e=te()},l(s){for(let r=0;r<t.length;r+=1)t[r].l(s);e=te()},m(s,r){for(let i=0;i<t.length;i+=1)t[i].m(s,r);S(s,e,r)},p(s,r){if(r&34){l=s[1];let i;for(i=0;i<l.length;i+=1){const f=et(s,l,i);t[i]?t[i].p(f,r):(t[i]=rt(f),t[i].c(),t[i].m(e.parentNode,e))}for(;i<t.length;i+=1)t[i].d(1);t.length=l.length}},d(s){We(t,s),s&&_(e)}}}function rt(a){let e,l,t,s,r,i,f,n;function d(){return a[6](a[10])}return{c(){e=h("div"),l=h("img"),r=D(),this.h()},l(m){e=p(m,"DIV",{class:!0,title:!0});var v=b(e);l=p(v,"IMG",{src:!0,alt:!0}),r=N(v),v.forEach(_),this.h()},h(){ke(l.src,t=`https://img.youtube.com/vi/${a[10].key}/0.jpg`)||u(l,"src",t),u(l,"alt",s=a[10].name),u(e,"class","flex-shrink-0 w-56 pl-2 cursor-pointer hover:opacity-80"),u(e,"title",i=a[10].name)},m(m,v){S(m,e,v),c(e,l),c(e,r),f||(n=ct(e,"click",d),f=!0)},p(m,v){a=m,v&2&&!ke(l.src,t=`https://img.youtube.com/vi/${a[10].key}/0.jpg`)&&u(l,"src",t),v&2&&s!==(s=a[10].name)&&u(l,"alt",s),v&2&&i!==(i=a[10].name)&&u(e,"title",i)},d(m){m&&_(e),f=!1,n()}}}function gt(a){let e,l,t,s;const r=[vt,mt],i=[];function f(n,d){return n[0].id&&n[1]?0:1}return e=f(a),l=i[e]=r[e](a),{c(){l.c(),t=te()},l(n){l.l(n),t=te()},m(n,d){i[e].m(n,d),S(n,t,d),s=!0},p(n,[d]){let m=e;e=f(n),e===m?i[e].p(n,d):(ze(),q(i[m],1,1,()=>{i[m]=null}),Fe(),l=i[e],l?l.p(n,d):(l=i[e]=r[e](n),l.c()),M(l,1),l.m(t.parentNode,t))},i(n){s||(M(l),s=!0)},o(n){q(l),s=!1},d(n){i[e].d(n),n&&_(t)}}}const we="https://image.tmdb.org/t/p/";function bt(a,e,l){let t,s,r;Ce(a,Xe,g=>l(8,t=g)),Ce(a,Ye,g=>l(9,s=g)),Ce(a,xe,g=>l(4,r=g));let{movie_details:i}=e,{trailer_details:f}=e,{cast_details:n}=e,d;function m(g,H){console.log("function trailer id",g),Ke(Ye,s=g,s),Ke(Xe,t=H,t),d.show()}window.scrollTo({top:-1e3,behavior:"smooth"});const v=g=>m(g.key,g.site);function O(g){ot[g?"unshift":"push"](()=>{d=g,l(3,d)})}return a.$$set=g=>{"movie_details"in g&&l(0,i=g.movie_details),"trailer_details"in g&&l(1,f=g.trailer_details),"cast_details"in g&&l(2,n=g.cast_details)},[i,f,n,d,r,m,v,O]}class kt extends Re{constructor(e){super();Ue(this,e,bt,gt,Ze,{movie_details:0,trailer_details:1,cast_details:2})}}function wt(a){let e,l;return e=new kt({props:{movie_details:a[0],trailer_details:a[1],cast_details:a[2]}}),{c(){re(e.$$.fragment)},l(t){ne(e.$$.fragment,t)},m(t,s){oe(e,t,s),l=!0},p(t,[s]){const r={};s&1&&(r.movie_details=t[0]),s&2&&(r.trailer_details=t[1]),s&4&&(r.cast_details=t[2]),e.$set(r)},i(t){l||(M(e.$$.fragment,t),l=!0)},o(t){q(e.$$.fragment,t),l=!1},d(t){ce(e,t)}}}async function Vt({fetch:a,params:e}){xe.set("movie");const s=await(await(await a("../api/postMovie",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({media:"movie",id:e.id})})).json()).res,f=(await(await a("../api/postTrailer",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({media:"movie",id:e.id})})).json()).res.results,m=await(await(await a("../../api/postCast",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:e.id,media:"movie"})})).json()).res.cast;return{props:{movie_details:s,trailer_details:f,cast_details:m}}}function Et(a,e,l){let{movie_details:t}=e,{trailer_details:s}=e,{cast_details:r}=e;return a.$$set=i=>{"movie_details"in i&&l(0,t=i.movie_details),"trailer_details"in i&&l(1,s=i.trailer_details),"cast_details"in i&&l(2,r=i.cast_details)},[t,s,r]}class Nt extends Re{constructor(e){super();Ue(this,e,Et,wt,Ze,{movie_details:0,trailer_details:1,cast_details:2})}}export{Nt as default,Vt as load};
