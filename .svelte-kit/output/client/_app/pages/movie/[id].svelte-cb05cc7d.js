import{S as Le,i as Ue,s as Xe,l as Y,f as P,r as Ce,u as C,w as Me,x as S,d,L as lt,X as at,j as re,m as ie,o as ne,H as $e,v as oe,e as v,t as y,k as V,c as h,a as g,g as j,n as N,b as m,D as f,h as J,O as Ze,Z as xe,K as st,F as rt}from"../../chunks/vendor-fc6286ba.js";import{a as ze}from"../../chunks/store-07881416.js";import{P as it}from"../../chunks/ProgressBar-f61e37f1.js";import{S as nt,C as ot,M as ft}from"../../chunks/Cast-6bfa9e9c.js";function Qe(s,e,t){const l=s.slice();return l[7]=e[t].id,l[8]=e[t].name,l[10]=t,l}function ct(s){let e,t;return e=new nt({}),{c(){re(e.$$.fragment)},l(l){ie(e.$$.fragment,l)},m(l,a){ne(e,l,a),t=!0},p:$e,i(l){t||(S(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function dt(s){let e,t,l,a,n,o,_,r,c,u,w=s[0].title+"",q,Ee,G,ee=(s[0].release_date?s[0].release_date.substring(0,4):"")+"",fe,Ie,T,B,te=(s[0].release_date?s[0].release_date:"No Date Available")+"",ce,De,F,ye,je,K,Ve,Ne,M,de,Pe,$,L,le=s[0].tagline+"",ue,Se,U,Te,Ae,X,ae=s[0].overview+"",_e,me,H,ve,Z,A,z=s[0].genres,I=[];for(let i=0;i<z.length;i+=1)I[i]=We(Qe(s,z,i));let D="runtime"in s[0]&&Ye(s),b=s[0].vote_average&&et(s);function Be(i,p){return i[1]!==999?_t:ut}let he=Be(s),O=he(s);H=new ot({props:{cast:s[2]}});let k=s[1]!==999&&tt(s);return{c(){e=v("section"),t=v("div"),l=v("div"),a=v("div"),n=v("img"),_=V(),r=v("div"),c=v("div"),u=v("h4"),q=y(w),Ee=V(),G=v("span"),fe=y(ee),Ie=V(),T=v("div"),B=v("div"),ce=y(te),De=V(),F=v("span"),ye=y("\u2022"),je=V(),K=v("div");for(let i=0;i<I.length;i+=1)I[i].c();Ve=V(),D&&D.c(),Ne=V(),M=v("div"),b&&b.c(),de=V(),O.c(),Pe=V(),$=v("div"),L=v("div"),ue=y(le),Se=V(),U=v("h4"),Te=y("Overview"),Ae=V(),X=v("div"),_e=y(ae),me=V(),re(H.$$.fragment),ve=V(),k&&k.c(),Z=Y(),this.h()},l(i){e=h(i,"SECTION",{id:!0,class:!0,style:!0});var p=g(e);t=h(p,"DIV",{class:!0,style:!0});var x=g(t);l=h(x,"DIV",{class:!0});var E=g(l);a=h(E,"DIV",{class:!0});var se=g(a);n=h(se,"IMG",{class:!0,src:!0,alt:!0}),se.forEach(d),_=N(E),r=h(E,"DIV",{class:!0});var Q=g(r);c=h(Q,"DIV",{class:!0});var pe=g(c);u=h(pe,"H4",{class:!0});var ge=g(u);q=j(ge,w),Ee=N(ge),G=h(ge,"SPAN",{class:!0});var He=g(G);fe=j(He,ee),He.forEach(d),ge.forEach(d),Ie=N(pe),T=h(pe,"DIV",{class:!0});var R=g(T);B=h(R,"DIV",{class:!0});var be=g(B);ce=j(be,te),De=N(be),F=h(be,"SPAN",{class:!0});var Je=g(F);ye=j(Je,"\u2022"),Je.forEach(d),be.forEach(d),je=N(R),K=h(R,"DIV",{});var qe=g(K);for(let Oe=0;Oe<I.length;Oe+=1)I[Oe].l(qe);qe.forEach(d),Ve=N(R),D&&D.l(R),R.forEach(d),pe.forEach(d),Ne=N(Q),M=h(Q,"DIV",{class:!0});var ke=g(M);b&&b.l(ke),de=N(ke),O.l(ke),ke.forEach(d),Pe=N(Q),$=h(Q,"DIV",{class:!0});var W=g($);L=h(W,"DIV",{class:!0});var Ge=g(L);ue=j(Ge,le),Ge.forEach(d),Se=N(W),U=h(W,"H4",{class:!0});var Fe=g(U);Te=j(Fe,"Overview"),Fe.forEach(d),Ae=N(W),X=h(W,"DIV",{class:!0});var Ke=g(X);_e=j(Ke,ae),Ke.forEach(d),W.forEach(d),Q.forEach(d),E.forEach(d),x.forEach(d),p.forEach(d),me=N(i),ie(H.$$.fragment,i),ve=N(i),k&&k.l(i),Z=Y(),this.h()},h(){m(n,"class","h-96 w-64 xl:h-120 xl:w-80 overflow-hidden rounded-2xl mx-auto"),Ze(n.src,o=s[0].poster_path?we+"w500"+s[0].poster_path:"/default.jpg")||m(n,"src",o),m(n,"alt","movie poster"),m(a,"class","col-start-1 col-end-2 "),m(G,"class","text-lg xl:text-4xl text-skin-inverted"),m(u,"class","w-full xl:text-4xl"),m(F,"class","hidden xl:px-2 xl:inline"),m(B,"class","pl-0"),m(T,"class","xl:flex"),m(c,"class","mt-6 xl:mt-0 w-full mb-6 flex flex-wrap"),m(M,"class","mb-5 w-full h-16 flex items-center justify-start"),m(L,"class","text-lg italic opacity-70"),m(U,"class","my-2 w-full font-semibold"),m(X,"class","overview-details"),m($,"class","w-full"),m(r,"class","xl:col-start-2 xl:col-end-5 flex flex-wrap content-start xl:pl-10"),m(l,"class","grid max-w-7xl xl:grid-cols-4 px-10 py-8 mx-auto xl:rounded-2xl"),m(t,"class","bg-gradient-to-r xl:rounded-2xl"),xe(t,"background-image","linear-gradient(to right, rgb(5, 69, 112) 150px, rgba(37, 137, 204, 0.84) 100%)"),m(e,"id","media"),m(e,"class","text-skin-inverted xl:mt-5 bg-no-repeat bg-right-top bg-contain xl:bg-cover xl:rounded-2xl"),xe(e,"background-image","url("+we+"original/"+s[0].backdrop_path+")")},m(i,p){P(i,e,p),f(e,t),f(t,l),f(l,a),f(a,n),f(l,_),f(l,r),f(r,c),f(c,u),f(u,q),f(u,Ee),f(u,G),f(G,fe),f(c,Ie),f(c,T),f(T,B),f(B,ce),f(B,De),f(B,F),f(F,ye),f(T,je),f(T,K);for(let x=0;x<I.length;x+=1)I[x].m(K,null);f(T,Ve),D&&D.m(T,null),f(r,Ne),f(r,M),b&&b.m(M,null),f(M,de),O.m(M,null),f(r,Pe),f(r,$),f($,L),f(L,ue),f($,Se),f($,U),f(U,Te),f($,Ae),f($,X),f(X,_e),P(i,me,p),ne(H,i,p),P(i,ve,p),k&&k.m(i,p),P(i,Z,p),A=!0},p(i,p){if((!A||p&1&&!Ze(n.src,o=i[0].poster_path?we+"w500"+i[0].poster_path:"/default.jpg"))&&m(n,"src",o),(!A||p&1)&&w!==(w=i[0].title+"")&&J(q,w),(!A||p&1)&&ee!==(ee=(i[0].release_date?i[0].release_date.substring(0,4):"")+"")&&J(fe,ee),(!A||p&1)&&te!==(te=(i[0].release_date?i[0].release_date:"No Date Available")+"")&&J(ce,te),p&17){z=i[0].genres;let E;for(E=0;E<z.length;E+=1){const se=Qe(i,z,E);I[E]?I[E].p(se,p):(I[E]=We(se),I[E].c(),I[E].m(K,null))}for(;E<I.length;E+=1)I[E].d(1);I.length=z.length}"runtime"in i[0]?D?D.p(i,p):(D=Ye(i),D.c(),D.m(T,null)):D&&(D.d(1),D=null),i[0].vote_average?b?(b.p(i,p),p&1&&S(b,1)):(b=et(i),b.c(),S(b,1),b.m(M,de)):b&&(Ce(),C(b,1,1,()=>{b=null}),Me()),he===(he=Be(i))&&O?O.p(i,p):(O.d(1),O=he(i),O&&(O.c(),O.m(M,null))),(!A||p&1)&&le!==(le=i[0].tagline+"")&&J(ue,le),(!A||p&1)&&ae!==(ae=i[0].overview+"")&&J(_e,ae),(!A||p&1)&&xe(e,"background-image","url("+we+"original/"+i[0].backdrop_path+")");const x={};p&4&&(x.cast=i[2]),H.$set(x),i[1]!==999?k?(k.p(i,p),p&2&&S(k,1)):(k=tt(i),k.c(),S(k,1),k.m(Z.parentNode,Z)):k&&(Ce(),C(k,1,1,()=>{k=null}),Me())},i(i){A||(S(b),S(H.$$.fragment,i),S(k),A=!0)},o(i){C(b),C(H.$$.fragment,i),C(k),A=!1},d(i){i&&d(e),st(I,i),D&&D.d(),b&&b.d(),O.d(),i&&d(me),oe(H,i),i&&d(ve),k&&k.d(i),i&&d(Z)}}}function Re(s){let e,t;return{c(){e=v("span"),t=y("|"),this.h()},l(l){e=h(l,"SPAN",{class:!0});var a=g(e);t=j(a,"|"),a.forEach(d),this.h()},h(){m(e,"class","mx-2")},m(l,a){P(l,e,a),f(e,t)},d(l){l&&d(e)}}}function We(s){let e,t=s[8]+"",l,a,n,o,_=s[10]!==s[0].genres.length-1&&Re();return{c(){e=v("a"),l=y(t),n=V(),_&&_.c(),o=Y(),this.h()},l(r){e=h(r,"A",{class:!0,href:!0});var c=g(e);l=j(c,t),c.forEach(d),n=N(r),_&&_.l(r),o=Y(),this.h()},h(){m(e,"class","hover:text-skin-selected"),m(e,"href",a="/genre/"+s[4]+"/"+s[7])},m(r,c){P(r,e,c),f(e,l),P(r,n,c),_&&_.m(r,c),P(r,o,c)},p(r,c){c&1&&t!==(t=r[8]+"")&&J(l,t),c&17&&a!==(a="/genre/"+r[4]+"/"+r[7])&&m(e,"href",a),r[10]!==r[0].genres.length-1?_||(_=Re(),_.c(),_.m(o.parentNode,o)):_&&(_.d(1),_=null)},d(r){r&&d(e),r&&d(n),_&&_.d(r),r&&d(o)}}}function Ye(s){let e,t,l,a=(s[0].runtime-s[0].runtime%60)/60+"",n,o,_=s[0].runtime%60+"",r,c;return{c(){e=v("div"),t=v("span"),l=y("\u2022"),n=y(a),o=y("h "),r=y(_),c=y("m"),this.h()},l(u){e=h(u,"DIV",{class:!0});var w=g(e);t=h(w,"SPAN",{class:!0});var q=g(t);l=j(q,"\u2022"),q.forEach(d),n=j(w,a),o=j(w,"h "),r=j(w,_),c=j(w,"m"),w.forEach(d),this.h()},h(){m(t,"class","hidden xl:px-2 xl:inline"),m(e,"class","duration")},m(u,w){P(u,e,w),f(e,t),f(t,l),f(e,n),f(e,o),f(e,r),f(e,c)},p(u,w){w&1&&a!==(a=(u[0].runtime-u[0].runtime%60)/60+"")&&J(n,a),w&1&&_!==(_=u[0].runtime%60+"")&&J(r,_)},d(u){u&&d(e)}}}function et(s){let e,t,l;return t=new it({props:{progress:s[0].vote_average}}),{c(){e=v("div"),re(t.$$.fragment),this.h()},l(a){e=h(a,"DIV",{class:!0});var n=g(e);ie(t.$$.fragment,n),n.forEach(d),this.h()},h(){m(e,"class","bg-transparent inline-flex align-center justify-center transform -translate-x-5 scale-60")},m(a,n){P(a,e,n),ne(t,e,null),l=!0},p(a,n){const o={};n&1&&(o.progress=a[0].vote_average),t.$set(o)},i(a){l||(S(t.$$.fragment,a),l=!0)},o(a){C(t.$$.fragment,a),l=!1},d(a){a&&d(e),oe(t)}}}function ut(s){let e,t,l;return{c(){e=v("div"),t=v("p"),l=y("No Trailer Available"),this.h()},l(a){e=h(a,"DIV",{class:!0});var n=g(e);t=h(n,"P",{class:!0});var o=g(t);l=j(o,"No Trailer Available"),o.forEach(d),n.forEach(d),this.h()},h(){m(t,"class","flex justify-center ml-4"),m(e,"class","flex pl-5")},m(a,n){P(a,e,n),f(e,t),f(t,l)},p:$e,d(a){a&&d(e)}}}function _t(s){let e,t,l,a,n,o,_;return{c(){e=v("div"),t=v("i"),l=V(),a=v("p"),n=y("Play Trailer"),this.h()},l(r){e=h(r,"DIV",{class:!0});var c=g(e);t=h(c,"I",{class:!0,"aria-hidden":!0}),g(t).forEach(d),l=N(c),a=h(c,"P",{class:!0});var u=g(a);n=j(u,"Play Trailer"),u.forEach(d),c.forEach(d),this.h()},h(){m(t,"class","flex items-center fa fa-play fa-2x"),m(t,"aria-hidden","true"),m(a,"class","flex justify-center ml-4 text-2xl items-center"),m(e,"class","transform -translate-x-10 flex pl-5 cursor-pointer hover:opacity-80")},m(r,c){P(r,e,c),f(e,t),f(e,l),f(e,a),f(a,n),o||(_=rt(e,"click",s[5]),o=!0)},p:$e,d(r){r&&d(e),o=!1,_()}}}function tt(s){let e,t,l={trailer_id:s[1]};return e=new ft({props:l}),s[6](e),{c(){re(e.$$.fragment)},l(a){ie(e.$$.fragment,a)},m(a,n){ne(e,a,n),t=!0},p(a,n){const o={};n&2&&(o.trailer_id=a[1]),e.$set(o)},i(a){t||(S(e.$$.fragment,a),t=!0)},o(a){C(e.$$.fragment,a),t=!1},d(a){s[6](null),oe(e,a)}}}function mt(s){let e,t,l,a;const n=[dt,ct],o=[];function _(r,c){return r[0].id&&r[1]?0:1}return e=_(s),t=o[e]=n[e](s),{c(){t.c(),l=Y()},l(r){t.l(r),l=Y()},m(r,c){o[e].m(r,c),P(r,l,c),a=!0},p(r,[c]){let u=e;e=_(r),e===u?o[e].p(r,c):(Ce(),C(o[u],1,1,()=>{o[u]=null}),Me(),t=o[e],t?t.p(r,c):(t=o[e]=n[e](r),t.c()),S(t,1),t.m(l.parentNode,l))},i(r){a||(S(t),a=!0)},o(r){C(t),a=!1},d(r){o[e].d(r),r&&d(l)}}}const we="https://image.tmdb.org/t/p/";function vt(s,e,t){let l;lt(s,ze,u=>t(4,l=u));let{movie_details:a}=e,{trailer_id:n}=e,{cast:o}=e,_;window.scrollTo({top:-1e3,behavior:"smooth"});const r=()=>_.show();function c(u){at[u?"unshift":"push"](()=>{_=u,t(3,_)})}return s.$$set=u=>{"movie_details"in u&&t(0,a=u.movie_details),"trailer_id"in u&&t(1,n=u.trailer_id),"cast"in u&&t(2,o=u.cast)},[a,n,o,_,l,r,c]}class ht extends Le{constructor(e){super();Ue(this,e,vt,mt,Xe,{movie_details:0,trailer_id:1,cast:2})}}function pt(s){let e,t;return e=new ht({props:{movie_details:s[0],trailer_id:s[1],cast:s[2]}}),{c(){re(e.$$.fragment)},l(l){ie(e.$$.fragment,l)},m(l,a){ne(e,l,a),t=!0},p(l,[a]){const n={};a&1&&(n.movie_details=l[0]),a&2&&(n.trailer_id=l[1]),a&4&&(n.cast=l[2]),e.$set(n)},i(l){t||(S(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}async function It({fetch:s,page:e}){ze.set("movie");const a=await(await(await s("../api/getMovie",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({media:"movie",id:e.params.id})})).json()).res,o=await(await s("../api/getTrailer",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({media:"movie",id:e.params.id})})).json(),_=await o.res.results.length?o.res.results[0].key:999,u=await(await(await s("../../api/getCast",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({media:"movie",id:e.params.id})})).json()).res.cast;return{props:{movie_details:a,trailer_id:_,cast:u}}}function gt(s,e,t){let{movie_details:l}=e,{trailer_id:a}=e,{cast:n}=e;return s.$$set=o=>{"movie_details"in o&&t(0,l=o.movie_details),"trailer_id"in o&&t(1,a=o.trailer_id),"cast"in o&&t(2,n=o.cast)},[l,a,n]}class Dt extends Le{constructor(e){super();Ue(this,e,gt,pt,Xe,{movie_details:0,trailer_id:1,cast:2})}}export{Dt as default,It as load};
